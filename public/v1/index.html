<!DOCTYPE html>
<html lang="en-us">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>Reef v1 | Reef</title>
		<meta name="description" content="A lightweight helper function for creating reactive, state-based components and UI. Reef is a simpler alternative to React, Vue, and other large frameworks.
 Features:
 Weighs under 2kb (minified and gzipped), with zero dependencies. Simple templating with JavaScript strings or template literals. Load it with a simple &lt;script&gt; tag&mdash;no command line or transpiling required. Updates only the parts of the DOM that have changed. Keep those form fields in focus!">
		

		
		<meta name="viewport" content="width=device-width, initial-scale=1">

		
		<meta name="twitter:card" content="summary">
		<meta name="twitter:site" content="@ChrisFerdinandi">
		<meta property="og:url" content="/v1">
		<meta property="og:title" content="Reef v1">
		<meta property="og:description" content="A lightweight helper function for creating reactive, state-based components and UI. Reef is a simpler alternative to React, Vue, and other large frameworks.
 Features:
 Weighs under 2kb (minified and gzipped), with zero dependencies. Simple templating with JavaScript strings or template literals. Load it with a simple &lt;script&gt; tag&mdash;no command line or transpiling required. Updates only the parts of the DOM that have changed. Keep those form fields in focus!">
		

		
		
		<link rel="shortcut icon" href="https://reefjs.com/img/favicon.ico">
		<link rel="icon" sizes="16x16 24x24 32x32 64x64" href="https://reefjs.com/img/favicon.ico">

		
		<style type="text/css">
			/*! gmt-theme v2.6.0 | (c) 2021 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/gmt-theme */
/* pt-serif-regular - latin */
@font-face {
	font-display: swap;
	font-family: "PT Serif";
	font-style: normal;
	font-weight: 400;
	src: local("PT Serif"), local("PTSerif-Regular"), url("https://gomakethings.com/fonts/pt-serif-v11-latin-regular.woff2") format("woff2"), url("https://gomakethings.com/fonts/pt-serif-v11-latin-regular.woff") format("woff");
}
/* pt-serif-italic - latin */
@font-face {
	font-display: swap;
	font-family: "PT Serif";
	font-style: italic;
	font-weight: 400;
	src: local("PT Serif Italic"), local("PTSerif-Italic"), url("https://gomakethings.com/fonts/pt-serif-v11-latin-italic.woff2") format("woff2"), url("https://gomakethings.com/fonts/pt-serif-v11-latin-italic.woff") format("woff");
}
/* pt-serif-700 - latin */
@font-face {
	font-display: swap;
	font-family: "PT Serif";
	font-style: normal;
	font-weight: 700;
	src: local("PT Serif Bold"), local("PTSerif-Bold"), url("https://gomakethings.com/fonts/pt-serif-v11-latin-700.woff2") format("woff2"), url("https://gomakethings.com/fonts/pt-serif-v11-latin-700.woff") format("woff");
}
/* pt-serif-700italic - latin */
@font-face {
	font-display: swap;
	font-family: "PT Serif";
	font-style: italic;
	font-weight: 700;
	src: local("PT Serif Bold Italic"), local("PTSerif-BoldItalic"), url("https://gomakethings.com/fonts/pt-serif-v11-latin-700italic.woff2") format("woff2"), url("https://gomakethings.com/fonts/pt-serif-v11-latin-700italic.woff") format("woff");
}
/* pt-sans-regular - latin */
@font-face {
	font-display: swap;
	font-family: "PT Sans";
	font-style: normal;
	font-weight: 400;
	src: local("PT Sans"), local("PTSerif-Regular"), url("https://gomakethings.com/fonts/pt-sans-v12-latin-regular.woff2") format("woff2"), url("https://gomakethings.com/fonts/pt-sans-v12-latin-regular.woff") format("woff");
}
/* pt-sans-italic - latin */
@font-face {
	font-display: swap;
	font-family: "PT Sans";
	font-style: italic;
	font-weight: 400;
	src: local("PT Sans Italic"), local("PTSerif-Italic"), url("https://gomakethings.com/fonts/pt-sans-v12-latin-italic.woff2") format("woff2"), url("https://gomakethings.com/fonts/pt-sans-v12-latin-italic.woff") format("woff");
}
/* pt-sans-700 - latin */
@font-face {
	font-display: swap;
	font-family: "PT Sans";
	font-style: normal;
	font-weight: 700;
	src: local("PT Sans Bold"), local("PTSerif-Bold"), url("https://gomakethings.com/fonts/pt-sans-v12-latin-700.woff2") format("woff2"), url("https://gomakethings.com/fonts/pt-sans-v12-latin-700.woff") format("woff");
}
/* pt-sans-700italic - latin */
@font-face {
	font-display: swap;
	font-family: "PT Sans";
	font-style: italic;
	font-weight: 700;
	src: local("PT Sans Bold Italic"), local("PTSerif-BoldItalic"), url("https://gomakethings.com/fonts/pt-sans-v12-latin-700italic.woff2") format("woff2"), url("https://gomakethings.com/fonts/pt-sans-v12-latin-700italic.woff") format("woff");
}
			/*! gmt-theme v2.7.0 | (c) 2021 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/gmt-theme */
﻿a,button,input,select,textarea,label,summary{touch-action:manipulation}*,*:before,*:after{box-sizing:border-box}html{overflow-y:scroll;text-size-adjust:100%}body{margin:0;min-height:100vh}img,video{max-width:100%;height:auto}iframe,object,embed{max-width:100%}audio{width:100%}[tabindex="-1"]:focus{outline:none}.container{margin-left:auto;margin-right:auto;max-width:38em;width:88%}.container-large{max-width:60em}@media(min-width: 38em){.row{display:flex;margin-left:-1.4%;margin-right:-1.4%;justify-content:space-between}.row-reverse{flex-direction:row-reverse}.grid-auto,.grid-fourth,.grid-third,.grid-two-thirds,.grid-half,.grid-three-fourths{margin-left:1.4%;margin-right:1.4%}.grid-auto{flex:1 1}.grid-fifth{width:20%}.grid-fourth{width:25%}.grid-third{width:33.33333%}.grid-two-thirds{width:66.66666%}.grid-half{width:50%}.grid-three-fourths{width:75%}.grid-four-fifths{width:80%}}@media(min-width: 38em){.list-columns{column-count:2}}html{scroll-behavior:smooth}body{background:#fff;border-top:.5em solid #e5e5e5;color:#272727;font-family:"PT Sans",sans-serif;font-size:112.5%;line-height:1.5}@media(min-width: 38em){body{line-height:1.5625em}}@media(prefers-color-scheme: dark){body{background:#1f252f;border-top-color:gray;color:#fff}}p{margin:0 0 1.5625em}a{color:#08c;text-decoration-skip-ink:auto;word-wrap:break-word}a:active,a:focus,a:hover{color:#005580}main a:not(.btn):visited{color:purple}@media(prefers-color-scheme: dark){a{color:#73cffa}a:active,a:focus,a:hover{color:#29b6f7}main a:not(.btn):visited{color:#debfde}}.link-no-underline,.nav-secondary a{text-decoration:none}.link-no-underline:active,.nav-secondary a:active,.link-no-underline:focus,.nav-secondary a:focus,.link-no-underline:hover,.nav-secondary a:hover{text-decoration:underline}.link-plain,.link-plain:visited{color:#272727;text-decoration:none}@media(prefers-color-scheme: dark){.link-plain,.link-plain:visited{color:#fff}}.link-plain:active,.link-plain:focus,.link-plain:hover{color:#08c}@media(prefers-color-scheme: dark){.link-plain:active,.link-plain:focus,.link-plain:hover{color:#73cffa}}ul,ol{margin:0 0 1.5625em 2em;padding:0}ul ul,ul ol,ol ol,ol ul{margin-bottom:0}li{margin-bottom:.5em}@media(min-width: 38em){li{margin-bottom:.25em}}.list-spaced li{margin-bottom:1.5625em}@media(min-width: 38em){.list-spaced li{margin-bottom:1em}}.list-spaced-small li{margin-bottom:1.125em}@media(min-width: 38em){.list-spaced-small li{margin-bottom:.6875em}}dl,dd{margin:0;padding:0}dd{margin-bottom:1.5625em}dt{font-weight:bold}.list-inline,.nav,.list-unstyled{list-style:none;margin-left:0}.list-inline>li::before,.nav>li::before,.list-unstyled>li::before{content:"​";position:absolute}.list-unstyled{margin-left:0}.list-inline,.nav{margin-left:-0.5em;margin-right:-0.5em;padding:0}.list-inline>li,.nav>li{display:inline-block;margin-left:.5em;margin-right:.5em}@media(max-width: 38em){.list-inline.list-inline-responsive>li,.list-inline-responsive.nav>li{display:block}}.list-inline-spaced{margin-left:-1.3125em;margin-right:-1.3125em}.list-inline-spaced>li{margin-left:1.3125em;margin-right:1.3125em}.list-inline-compact{margin-left:-0.25em;margin-right:-0.25em}.list-inline-compact li{margin-left:.25em;margin-right:.25em}h1,h2,h3,h4,h5,h6{font-family:"PT Serif",sans-serif;line-height:1.2;margin:0 0 1em;padding:1em 0 0;word-wrap:break-word}h1,.h1{font-size:1.5em;padding-top:.5em}@media(min-width: 38em){h1,.h1{font-size:1.75em}}h2,.h2{font-size:1.3125em}h3,.h3{font-size:1.1875em}h4,h5,h6,.h4,.h5,.h6{font-size:1em}h4,.h4{font-size:.8125em;text-transform:uppercase}hr{border:0;border-top:1px solid #e5e5e5;margin:2em auto}@media(prefers-color-scheme: dark){hr{border-top-color:gray}}.line-secondary{width:50%}.line-clear{border-top-color:transparent}.line-overlay{margin-top:-2.8em}.line-overlay>strong{background-color:#fff;display:inline-block;padding:0 1em}@media(min-width: 38em){.line-overlay>strong{padding:0 2em}}@media(prefers-color-scheme: dark){.line-overlay>strong{background-color:#1f252f}}mark{background:#fbf9c9;color:#272727}@media(prefers-color-scheme: dark){mark{background:transparent;color:#fff}}blockquote{border-left:.25em solid #e5e5e5;font-style:italic;margin:0 0 1.5625em;padding-left:1em;padding-right:1em}blockquote pre{font-style:normal}cite{color:gray;display:block;font-size:.9375em;padding-top:1em}@media(prefers-color-scheme: dark){cite{color:#e5e5e5}}code,kbd,pre,samp{font-family:Menlo,Monaco,"Courier New",monospace;font-size:.875em}code{color:#d14;word-wrap:break-word}@media(prefers-color-scheme: dark){code{color:#ded7d9}}pre{background-color:#f7f7f7;display:block;line-height:1.5;margin:0 0 1.5625em;overflow:auto;padding:.8125em;tab-size:2;white-space:pre-wrap;word-break:break-all}@media(min-width: 38em){pre{tab-size:4}}@media(prefers-color-scheme: dark){pre{background-color:#343d4d}}pre code{color:inherit;font-size:1em}@media screen{.chroma .err,.chroma .kc,.chroma .no,.chroma .py,.chroma .nt,.chroma .ss,.chroma .m,.chroma .mb,.chroma .mf,.chroma .mh,.chroma .mi,.chroma .il,.chroma .mo{color:#905}}@media screen and (prefers-color-scheme: dark){.chroma .err,.chroma .kc,.chroma .no,.chroma .py,.chroma .nt,.chroma .ss,.chroma .m,.chroma .mb,.chroma .mf,.chroma .mh,.chroma .mi,.chroma .il,.chroma .mo{color:#cfcfcf}}@media screen{.chroma .k,.chroma .kd,.chroma .kn,.chroma .kp,.chroma .kr,.chroma .kt,.chroma .nb,.chroma .s{color:#07a}}@media screen and (prefers-color-scheme: dark){.chroma .k,.chroma .kd,.chroma .kn,.chroma .kp,.chroma .kr,.chroma .kt,.chroma .nb,.chroma .s{color:#95dbfb}}@media screen{.chroma .n,.chroma .na,.chroma .nc,.chroma .ne,.chroma .l,.chroma .ld,.chroma .sa,.chroma .sb,.chroma .sc,.chroma .dl,.chroma .s1,.chroma .s2,.chroma .se,.chroma .sh,.chroma .si,.chroma .sx{color:#690}}@media screen and (prefers-color-scheme: dark){.chroma .n,.chroma .na,.chroma .nc,.chroma .ne,.chroma .l,.chroma .ld,.chroma .sa,.chroma .sb,.chroma .sc,.chroma .dl,.chroma .s1,.chroma .s2,.chroma .se,.chroma .sh,.chroma .si,.chroma .sx{color:#c5d99c}}@media screen{.chroma .bp,.chroma .nd,.chroma .nl,.chroma .sd,.chroma .p,.chroma .c,.chroma .ch,.chroma .cm,.chroma .c1,.chroma .cs,.chroma .cp,.chroma .cpf{color:#708090}}@media screen and (prefers-color-scheme: dark){.chroma .bp,.chroma .nd,.chroma .nl,.chroma .sd,.chroma .p,.chroma .c,.chroma .ch,.chroma .cm,.chroma .c1,.chroma .cs,.chroma .cp,.chroma .cpf{color:#e5e5e5}}@media screen{.chroma .ni,.chroma .o{color:#a67f59;background:rgba(255,255,255,.5)}}@media screen and (prefers-color-scheme: dark){.chroma .ni,.chroma .o{background:transparent;color:#e5e5e5}}@media screen{.chroma .nf,.chroma .fm,.chroma .ow{color:#dd4a68}}@media screen and (prefers-color-scheme: dark){.chroma .nf,.chroma .fm,.chroma .ow{color:#deb6be}}@media screen{.chroma .nv,.chroma .vc,.chroma .vg,.chroma .vi,.chroma .vm,.chroma .sr{color:#e90}}@media screen and (prefers-color-scheme: dark){.chroma .nv,.chroma .vc,.chroma .vg,.chroma .vi,.chroma .vm,.chroma .sr{color:#ede1ca}}@media screen{.chroma .nn{opacity:.7}}@media screen{.chroma .ge{font-style:italic}}@media screen{.chroma .gs{font-weight:bold}}.btn{background-color:#f7272f;border:.125em solid #f7272f;display:inline-block;font-size:.9375em;font-weight:normal;line-height:1.2;margin-right:.3125em;margin-bottom:.3125em;padding:.5em .6875em}.btn,.btn:focus{color:#fff}@media(prefers-color-scheme: dark){.btn,.btn:focus{background-color:#fdd4d5;border-color:#fdd4d5;color:#000}}.btn:hover,.btn:active{background-color:#cb070e;border-color:#cb070e;color:#fff}@media(prefers-color-scheme: dark){.btn:hover,.btn:active{background-color:#fdbbbd;border-color:#fdbbbd;color:#000}}a.btn{text-decoration:none}.btn-secondary{background-color:#343d4d;border-color:#343d4d}@media(prefers-color-scheme: dark){.btn-secondary{background-color:#d2d7e1;border-color:#d2d7e1;color:#000}}.btn-secondary:hover,.btn-secondary:active,.btn-secondary.active{background-color:#15191f;border-color:#15191f}@media(prefers-color-scheme: dark){.btn-secondary:hover,.btn-secondary:active,.btn-secondary.active{background-color:#c3cad6;border-color:#c3cad6;color:#000}}.btn-tertiary{background-color:#08c;border-color:#08c}@media(prefers-color-scheme: dark){.btn-tertiary{background-color:#cef;border-color:#cef;color:#000}}.btn-tertiary:hover,.btn-tertiary:active,.btn-tertiary.active{background-color:#005580;border-color:#005580}@media(prefers-color-scheme: dark){.btn-tertiary:hover,.btn-tertiary:active,.btn-tertiary.active{background-color:#b3e6ff;border-color:#b3e6ff;color:#000}}.btn:active{box-shadow:inset 0 .15625em .25em rgba(0,0,0,.15),0 1px .15625em rgba(0,0,0,.05);outline:0}.btn[disabled],[data-submitting] .btn{box-shadow:none;cursor:not-allowed;opacity:.5;pointer-events:none}.btn-large{font-size:1em;line-height:normal;padding:.6875em .9375em}.btn-block{display:block;margin-right:0;padding-right:0;padding-left:0;width:100%}.btn,button,html input[type=button],input[type=reset],input[type=submit]{cursor:pointer;text-align:center;vertical-align:middle}.btn:last-child,input.btn{margin-right:0}form,fieldset{margin-bottom:1.5625em}fieldset{border:0;padding:0}legend,label{display:block;margin:0 0 .3125em;padding:0}button,input,optgroup,select,textarea{color:#555;font:inherit;margin:0;padding:.3125em}@media(prefers-color-scheme: dark){button,input,optgroup,select,textarea{background-color:#e5e5e5;color:#272727}}input,textarea,select{border:1px solid #b8b8b8;display:block;line-height:1.5;margin-bottom:1.1875em;width:100%}@media(min-width: 38em){input,textarea,select{line-height:1.5625}}@media(prefers-color-scheme: dark){input,textarea,select{border-color:gray}}form button,form .btn{margin-bottom:1.1875em}textarea{height:8em;overflow:auto;resize:vertical}[type=image],[type=checkbox],[type=radio]{cursor:pointer;display:inline-block;height:auto;margin-bottom:.3125em;padding:0;width:auto}[type=checkbox],[type=radio]{margin-right:.25em}input:focus,textarea:focus{border-color:rgba(82,168,236,.8)}.input-inline{display:inline-block;vertical-align:middle;width:auto}.input-condensed{line-height:1;padding-top:.125em;padding-bottom:.125em;vertical-align:top}.input-search{width:85%;padding-left:.9375em;padding-right:2.5em;border-radius:1.3125em;transition:width 300ms ease-in}@media(min-width: 38em){.input-search{width:65%}}.btn-search{display:inline;color:gray;border:none;background:none;margin-left:-2.5em;margin-bottom:0}.btn-search:hover{color:#5a5a5a}.error{border-color:#e30810}@media(prefers-color-scheme: dark){.error{border-color:#fdbbbd}}.success-message,.error-message{font-style:italic}.error-message{color:#e30810;margin-bottom:1em}@media(prefers-color-scheme: dark){.error-message{color:#fdbbbd}}figure{margin:0 0 1.5625em;padding:0}figcaption{font-size:.9375em;font-style:italic;color:gray;padding-top:.5em;text-align:center}@media(prefers-color-scheme: dark){figcaption{color:#e5e5e5}}.img-border{border:1px solid #ccc}.img-circle{border-radius:50%}.img-center,.img-left{display:block;text-align:center;margin-left:auto;margin-right:auto}@media(min-width: 28em){.img-left{float:left;margin-right:1em}}@media(prefers-color-scheme: dark){svg path[fill="#272727"]{fill:#fff}svg path[fill="#808080"]{fill:#e5e5e5}svg path[fill="#f7272f"]{fill:#fdd4d5}svg path[fill="#800080"]{fill:#ff4dff}svg path[fill="#ffffff"]{fill:#1f252f}.company-logo path{fill:#fff}}iframe{aspect-ratio:16/9;height:100%;margin-bottom:1.5625em;width:100%}.callout{background-color:#f7f7f7;border:1px solid #e5e5e5;margin-bottom:1.5625em;padding:1em 1.5em}@media(prefers-color-scheme: dark){.callout{background-color:#171b22;border-color:gray}}.tarpit{display:none}table{border-collapse:collapse;border-spacing:0;margin-bottom:1.5625em;max-width:100%;width:100%}th,td{text-align:left;padding:.5em}th{border-bottom:.125em solid #e5e5e5;font-weight:bold;vertical-align:bottom}td{border-top:1px solid #e5e5e5;vertical-align:top}.table-striped tbody tr:nth-child(odd){background-color:#f7f7f7}.nav-wrap{padding-top:1em;padding-bottom:.5em;text-align:center}@media(min-width: 60em){.nav-wrap{display:flex;justify-content:space-between}}.logo{display:inline-block;font-family:"PT Serif",sans-serif;font-size:1.2em;font-weight:bold;line-height:1.2;margin-bottom:.3125em;text-decoration:none}@media(min-width: 60em){.logo{margin-bottom:0}}.logo,.logo:focus{color:#272727}@media(prefers-color-scheme: dark){.logo,.logo:focus{color:#fff}}.logo:active,.logo:hover{color:#08c}@media(prefers-color-scheme: dark){.logo:active,.logo:hover{color:#73cffa}}.nav{margin-bottom:0}.nav a{color:gray;text-decoration:none}@media(prefers-color-scheme: dark){.nav a{color:#e5e5e5}}.nav a:hover,.nav a:active,.nav a:focus,.nav .active a,.nav [aria-current=page]{border-bottom:.125em solid #fa7176;color:#272727}@media(prefers-color-scheme: dark){.nav a:hover,.nav a:active,.nav a:focus,.nav .active a,.nav [aria-current=page]{color:#fff}}.text-small{font-size:.9375em}.text-large,.text-xlarge{font-size:1.1875em;line-height:1.4}@media(min-width: 38em){.text-large,.text-xlarge{font-size:1.3125em}}.text-xlarge{font-size:1.7em}@media(min-width: 38em){.text-xlarge{font-size:2em}}.text-muted{color:gray}@media(prefers-color-scheme: dark){.text-muted{color:#e5e5e5}}.text-muted-light,.btn del{color:#b2b2b2}.text-normal{font-weight:normal;font-style:normal}.text-capitalize{text-transform:capitalize}.text-sans{font-family:"PT Sans",sans-serif}.text-serif{font-family:"PT Serif",sans-serif}.text-center{text-align:center}.text-right{text-align:right}@media(min-width: 38em){.text-right-large{text-align:right}}.no-margin-top{margin-top:0}.no-margin-bottom{margin-bottom:0}.margin-top{margin-top:1.5625em}.margin-bottom,audio{margin-bottom:1.5625em}.margin-bottom-small{margin-bottom:.5em}.margin-bottom-medium{margin-bottom:1.1875em}.margin-bottom-large{margin-bottom:2em}.margin-bottom-negative{margin-bottom:-1.75em}.margin-right{margin-right:.25em}.no-padding-top{padding-top:0}.no-padding-bottom{padding-bottom:0}.padding-top{padding-top:1.5625em}.padding-top-xsmall{padding-top:.25em}.padding-top-small{padding-top:.5em}.padding-top-medium{padding-top:1em}.padding-top-large{padding-top:2em}.padding-top-xlarge{padding-top:3em}.padding-bottom{padding-bottom:1.5625em}.padding-bottom-small{padding-bottom:.5em}.padding-bottom-large{padding-bottom:2em}.padding-bottom-xlarge{padding-bottom:3em}.screen-reader{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.screen-reader-focusable:active,.screen-reader-focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;white-space:inherit;width:auto}@media(prefers-reduced-motion: reduce){*{animation-duration:.01ms !important;animation-iteration-count:1 !important;transition-duration:.01ms !important;scroll-behavior:auto !important}}.clearfix:before,.container:before,.clearfix:after,.container:after{display:table;content:" "}.clearfix:after,.container:after{clear:both}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}@page{margin:.5cm}a,a:visited{text-decoration:underline}a[href]:after{content:" (" attr(href) ")"}a[href^="#"]:after{content:""}p,h1,h2,h3{orphans:3;widows:3}h1,h2,h3{page-break-after:avoid}pre,blockquote{border-color:#999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}header .nav,footer,main aside form{display:none}body{border-top:none}}
		</style>
	</head>

	<body class="type-versions page-single js-anchors" id="page-b5b9c9a547697cf0bc1c39b4a6fa1667">

		<div class="container container-large">

	
	<a class="screen-reader screen-reader-focusable" href="#main">Skip to main content</a>

	
	<a class="screen-reader screen-reader-focusable" href="mailto:&#099;&#104;&#114;&#105;&#115;&#064;&#103;&#111;&#109;&#097;&#107;&#101;&#116;&#104;&#105;&#110;&#103;&#115;&#046;&#099;&#111;&#109;?subject=Go%20Make%20Things:%20Accessibility%20Feedback">Accessibility Feedback</a>

</div>

		<header class="container container-large margin-bottom-large">
	<nav class="nav-wrap">
		<a class="logo" href="https://reefjs.com">
			<svg xmlns="http://www.w3.org/2000/svg" width="0.674698795em" height="1em" style="height:.8em;width:0.539759036em;" viewBox="0 0 56 83"><title></title><path fill="currentColor" fill-rule="nonzero" d="M5.159 46.847c-.87.147-1.676.218-2.394.208a2.716 2.716 0 00-1.938.774A2.71 2.71 0 000 49.749a2.73 2.73 0 002.693 2.764c2.181.031 4.337-.326 6.589-1.09a1.508 1.508 0 011.548.35c2.174 2.126 4.632 3.68 7.012 5.185 5.553 3.517 9.938 6.291 10.286 14.545l-.006 1.038c-.02 2.131-.064 7.063.081 10.11h5.463l-.001-.104a86.437 86.437 0 01-.078-6.825l.004-.03-.004-.098c.076-5.533 4.852-8.295 9.51-10.265 4.494-1.899 8.648-5.25 9.922-7.266.01-.01.014-.02.021-.026 1.252-1.895 2.09-4.082 2.564-6.687a2.69 2.69 0 00-.443-2.041 2.707 2.707 0 00-1.756-1.133 2.713 2.713 0 00-2.043.443 2.715 2.715 0 00-1.131 1.755c-1.127 6.224-4.793 7.889-9.432 10-.787.358-1.678.763-2.561 1.206a1.523 1.523 0 01-1.662-.199 1.519 1.519 0 01-.467-1.605c1.113-3.586 2.5-6.823 3.842-9.953 3.748-8.734 7.623-17.767 6.725-35.157a2.729 2.729 0 00-2.865-2.584c-.729.036-1.4.354-1.887.897a2.716 2.716 0 00-.697 1.969c.254 4.921.121 9.304-.404 13.396a1.523 1.523 0 01-1.133 1.276 1.526 1.526 0 01-1.604-.581c-.695-.96-1.475-1.925-2.523-3.129a2.696 2.696 0 00-1.871-.93 2.705 2.705 0 00-1.98.666 2.735 2.735 0 00-.264 3.851c3.781 4.33 6.949 9.213 4.584 15.549-.014.041-.014.041-.703 1.678l-1.578 3.739a1.519 1.519 0 01-2.85-.135c-1.972-6.355-4.658-11.178-7.256-15.837-1.495-2.683-3.044-5.457-4.408-8.492a1.54 1.54 0 01-.009-1.222c1.072-2.495 2.82-4.696 4.675-7.026 1.79-2.252 3.641-4.58 5.002-7.376l.028-.067a2.724 2.724 0 00-2.443-3.92 2.737 2.737 0 00-2.456 1.548l-.004.011c-.007.014-.012.026-.02.039-1.057 2.187-2.598 4.125-4.382 6.37l-1.267 1.608a1.53 1.53 0 01-1.53.545 1.51 1.51 0 01-1.147-1.139c-.879-3.88-1.424-8.062-1.667-12.781a2.709 2.709 0 00-.9-1.887 2.7 2.7 0 00-1.968-.697A2.7 2.7 0 009.263.9a2.711 2.711 0 00-.697 1.969c.075 1.483.183 2.959.324 4.387a1.519 1.519 0 01-1.587 1.662 13.7 13.7 0 01-3.639-.667A2.737 2.737 0 00.207 9.973a2.735 2.735 0 001.723 3.455c2.095.702 4.284 1.018 6.695.966a1.512 1.512 0 011.515 1.205c1.976 9.423 5.414 15.588 8.736 21.547 2.63 4.721 5.116 9.179 6.958 15.306a1.517 1.517 0 01-2.307 1.689 98.616 98.616 0 00-2.768-1.795c-4.359-2.762-8.127-5.148-9.616-10.262a21.265 21.265 0 01-.582-1.868 2.731 2.731 0 00-3.341-1.933 2.714 2.714 0 00-1.658 1.271 2.7 2.7 0 00-.274 2.07c.352 1.316.674 2.317 1.018 3.15.175.428.147.908-.073 1.313a1.516 1.516 0 01-1.074.76z"/></svg>
			Reef
		</a>
		<div class="nav-menu" id="nav-menu">
			<ul class="nav">
				<li><a href="https://reefjs.com/getting-started">Getting Started</a></li><li><a href="https://reefjs.com/state-management">State Management</a></li><li><a href="https://reefjs.com/advanced">Advanced</a></li><li><a href="https://reefjs.com/api">API Reference</a></li></li><li><a href="https://reefjs.com/demos">Demos</a></li></li><li><a href="https://reefjs.com/about">v11.x</a></li>
			</ul>
		</div>
	</nav>
</header>

		<main id="main" tabindex="-1">

			<div class="container">

	<article>

	
	<h1>Reef v1</h1>
	

	

<p>A lightweight helper function for creating reactive, state-based components and UI. Reef is a simpler alternative to React, Vue, and other large frameworks.</p>

<div id="table-of-contents"></div>

<p><strong>Features:</strong></p>

<ul>
<li>Weighs under 2kb (minified and gzipped), with zero dependencies.</li>
<li>Simple templating with JavaScript strings or template literals.</li>
<li>Load it with a simple <code>&lt;script&gt;</code> tag&mdash;no command line or transpiling required.</li>
<li>Updates only the parts of the DOM that have changed. Keep those form fields in focus!</li>
<li>Work with native JavaScript methods and browser APIs instead of custom methods and pseudo-languages.</li>
<li>Supported all the way back to IE10.</li>
</ul>

<p>Ditch that bloated framework, and make web development fun and simple again!</p>

<h2 id="why-use-reef">Why use Reef?</h2>

<p>Reef is an anti-framework.</p>

<p>It does a lot less than the big guys like React and Vue. It doesn&rsquo;t have a Virtual DOM. It doesn&rsquo;t require you to learn a custom templating syntax. It doesn&rsquo;t provide a bunch of custom methods.</p>

<p>Reef does just one thing: render UI.</p>

<p>Couldn&rsquo;t you just use some template strings and <code>innerHTML</code>? Sure. But Reef sanitizes your data before rendering to minimize the risk of XSS scripting attacks. It also only updates things that have changed instead clobbering the DOM and removing focus from your form fields.</p>

<p>If you&rsquo;re craving a more simple, back-to-basics web development experience, Reef is for you.</p>

<p>(<em>And if not, that&rsquo;s cool too! Carry on.</em>)</p>

<h2 id="getting-started">Getting Started</h2>

<h3 id="1-include-reef-on-your-site">1. Include Reef on your site.</h3>

<p><strong>Direct Download</strong></p>

<p>You can <a href="https://github.com/cferdinandi/reef/archive/master.zip">download the files directly from GitHub</a>.</p>

<p>Compiled and production-ready code can be found in the <code>dist</code> directory. The <code>src</code> directory contains development code.</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;path/to/reef.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span></code></pre></div>
<p><strong>CDN</strong></p>

<p>You can also use the <a href="https://www.jsdelivr.com/package/gh/cferdinandi/reef?path=dist">jsDelivr CDN</a>. I recommend linking to a specific version number or version range to prevent major updates from breaking your site. Reef uses semantic versioning.</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="c">&lt;!-- Always get the latest version --&gt;</span>
<span class="c">&lt;!-- Not recommended for production sites! --&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.jsdelivr.net/gh/cferdinandi/reef/dist/reef.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="c">&lt;!-- Get minor updates and patch fixes within a major version --&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.jsdelivr.net/gh/cferdinandi/reef@1/dist/reef.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="c">&lt;!-- Get patch fixes within a minor version --&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.jsdelivr.net/gh/cferdinandi/reef@1.0/dist/reef.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="c">&lt;!-- Get a specific version --&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.jsdelivr.net/gh/cferdinandi/reef@1.0.0/dist/reef.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span></code></pre></div>
<h3 id="2-add-an-element-to-render-your-component-ui-into">2. Add an element to render your component/UI into.</h3>

<p>This is typically an empty <code>div</code> with a targetable selector.</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;app&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span></code></pre></div>
<h3 id="3-create-your-component">3. Create your component</h3>

<p>Create a new <code>Reef()</code> instance, passing in two arguments: your selector, and your options.</p>

<h4 id="provide-a-selector">Provide a selector</h4>

<p>The first argument is the selector for the element you want to render the UI into. Alternatively, you can pass in the element itself.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// This works
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">);</span>

<span class="c1">// This does too
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">elem</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="nx">elem</span><span class="p">);</span>
</code></pre></div>
<h4 id="provide-a-template">Provide a Template</h4>

<p>The second argument is an object of options. It requires a template property, as either a string or a function that returns a string, to render into the DOM.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Your template can be a string
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">template</span><span class="o">:</span> <span class="s1">&#39;&lt;h1&gt;Hello, world!&lt;/h1&gt;&#39;</span>
<span class="p">});</span>

<span class="c1">// It can also be a function that returns a string
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">template</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="s1">&#39;&lt;h1&gt;Hello, world!&lt;/h1&gt;&#39;</span>
	<span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p><em><strong>Note:</strong> You can use old-school strings, or if you&rsquo;d prefer, ES6 template literals.</em></p>

<h4 id="optional-add-state-data">[Optional] Add State/Data</h4>

<p>As an optional property of the options argument, you can include state for your component with the <code>data</code> property.</p>

<p>The state data is automatically passed into your template function, so that you can use it to customize your template.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Some data
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">greeting</span><span class="o">:</span> <span class="s1">&#39;Hello&#39;</span><span class="p">,</span>
		<span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;world&#39;</span>
	<span class="p">},</span>
	<span class="nx">template</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="s1">&#39;&lt;h1&gt;&#39;</span> <span class="o">+</span> <span class="nx">props</span><span class="p">.</span><span class="nx">greeting</span> <span class="o">+</span> <span class="s1">&#39;, &#39;</span> <span class="o">+</span> <span class="nx">props</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;!&lt;/h1&gt;&#39;</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<h3 id="4-render-your-component">4. Render your component</h3>

<p>You can render your component by calling the <code>.render()</code> method on it.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">app</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
</code></pre></div>
<p><strong><a href="https://codepen.io/cferdinandi/pen/NLKWdO">Here&rsquo;s a demo.</a></strong></p>

<h2 id="state-management">State Management</h2>

<p>Reef provides two different ways to manage your state: reactive and manual.</p>

<h3 id="data-reactivity">Data Reactivity</h3>

<p>Data reactivity means that the UI &ldquo;reacts&rdquo; to changes in your data. Update your data, and the UI automatically renders any required updates based on the new state.</p>

<p>You can get an immutable clone of your current state using the <code>getData()</code> method. This lets you make any updates or changes you want without affecting the actual state of your component.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">app</span><span class="p">.</span><span class="nx">getData</span><span class="p">();</span>
<span class="nx">data</span><span class="p">.</span><span class="nx">greeting</span> <span class="o">=</span> <span class="s1">&#39;Hi there&#39;</span><span class="p">;</span>
</code></pre></div>
<p>When you&rsquo;re ready to update your state, use the <code>setData()</code> method to update the state <em>and</em> cause the UI to render (if anything has changed).</p>

<p>The <code>setData()</code> method accepts an object with your changed state as an argument. You don&rsquo;t need to pass in the whole state again&mdash;only what&rsquo;s changed.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Pass in an entirely new state
</span><span class="c1"></span><span class="nx">app</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
	<span class="nx">greeting</span><span class="o">:</span> <span class="s1">&#39;Hi there&#39;</span><span class="p">,</span>
	<span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;universe&#39;</span>
<span class="p">});</span>

<span class="c1">// Or update just one key
</span><span class="c1"></span><span class="nx">app</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span><span class="nx">greeting</span><span class="o">:</span> <span class="s1">&#39;Hi there&#39;</span><span class="p">});</span>
</code></pre></div>
<p><strong><a href="https://codepen.io/cferdinandi/pen/XPBRpN">Try data reactivity on CodePen &rarr;</a></strong></p>

<h3 id="manual-state">Manual State</h3>

<p>Sometimes, you want more manual control over when your UI renders again.</p>

<p>You can update your component&rsquo;s state by directly accessing the <code>data</code> property of the component. After updating your state, run the <code>.render()</code> method again to update the DOM.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">app</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">greeting</span> <span class="o">=</span> <span class="s1">&#39;Hi there&#39;</span><span class="p">;</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s1">&#39;universe&#39;</span><span class="p">;</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
</code></pre></div>
<p><strong><a href="https://codepen.io/cferdinandi/pen/MqgWJM">Try manual state management on CodePen &rarr;</a></strong></p>

<h2 id="advanced-components">Advanced Components</h2>

<h3 id="nested-components">Nested Components</h3>

<p>If you&rsquo;re managing a bigger app, you may have components inside components.</p>

<p>Reef provides you with a way to attach nested components to their parent components. When the parent component is updated, it will automatically update the UI of its nested components if needed.</p>

<p>Associate a nested component with its parent using the <code>attachTo</code> key in your options. This accepts an array of components to attach your nested component to. You only need to render the parent component. It&rsquo;s nested components will render automatically.</p>

<p>You can access a parent component&rsquo;s state from a nested component by assigning the parent component <code>data</code> property to the <code>data</code> key in your nested component&rsquo;s options.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Parent component
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">greeting</span><span class="o">:</span> <span class="s1">&#39;Hello, world!&#39;</span><span class="p">,</span>
		<span class="nx">todos</span><span class="o">:</span> <span class="p">[</span>
			<span class="s1">&#39;Buy milk&#39;</span><span class="p">,</span>
			<span class="s1">&#39;Bake a birthday cake&#39;</span><span class="p">,</span>
			<span class="s1">&#39;Go apple picking&#39;</span>
		<span class="p">]</span>
	<span class="p">},</span>
	<span class="nx">template</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span>
			<span class="s1">&#39;&lt;h1&gt;&#39;</span> <span class="o">+</span> <span class="nx">props</span><span class="p">.</span><span class="nx">greeting</span> <span class="o">+</span> <span class="s1">&#39;&lt;/h1&gt;&#39;</span> <span class="o">+</span>
			<span class="s1">&#39;&lt;div id=&#34;todos&#34;&gt;&lt;/div&gt;&#39;</span><span class="p">;</span>
		<span class="k">return</span> <span class="nx">html</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="c1">// Nested component
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">todos</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="s1">&#39;#todos&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">data</span><span class="o">:</span> <span class="nx">app</span><span class="p">.</span><span class="nx">data</span><span class="p">,</span>
	<span class="nx">template</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="s1">&#39;&lt;h2&gt;Todo List&lt;/h2&gt;&lt;ul&gt;&#39;</span><span class="p">;</span>
		<span class="nx">props</span><span class="p">.</span><span class="nx">todos</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">todo</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;li&gt;&#39;</span> <span class="o">+</span> <span class="nx">todo</span> <span class="o">+</span> <span class="s1">&#39;&lt;/li&gt;&#39;</span><span class="p">;</span>
		<span class="p">});</span>
		<span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;/ul&gt;&#39;</span><span class="p">;</span>
		<span class="k">return</span> <span class="nx">html</span><span class="p">;</span>
	<span class="p">},</span>
	<span class="nx">attachTo</span><span class="o">:</span> <span class="p">[</span><span class="nx">app</span><span class="p">]</span>
<span class="p">});</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
</code></pre></div>
<p><strong><a href="https://codepen.io/cferdinandi/pen/yxqbZV">Try nested components on CodePen &rarr;</a></strong></p>

<h3 id="attaching-and-detaching-nested-components">Attaching and Detaching Nested Components</h3>

<p>You can attach or detach nested components at any time using the <code>attach()</code> and <code>detach()</code> methods. Both methods accept both individual components or arrays of components as arguments.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Attach components
</span><span class="c1"></span><span class="nx">app</span><span class="p">.</span><span class="nx">attach</span><span class="p">(</span><span class="nx">todos</span><span class="p">);</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">attach</span><span class="p">([</span><span class="nx">todos</span><span class="p">]);</span>

<span class="c1">// Detach components
</span><span class="c1"></span><span class="nx">app</span><span class="p">.</span><span class="nx">detach</span><span class="p">(</span><span class="nx">todos</span><span class="p">);</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">detach</span><span class="p">([</span><span class="nx">todos</span><span class="p">]);</span>
</code></pre></div>
<p><strong><a href="https://codepen.io/cferdinandi/pen/RYBVMq">Try attaching nested components on CodePen &rarr;</a></strong></p>

<h3 id="shared-state">Shared State</h3>

<p>There are two ways to handle shared state with Reef when your components (in addition to the <a href="#nested-components">nested component/parent component relationship</a> documented above).</p>

<h4 id="source-of-truth-object">Source of Truth Object</h4>

<p>You can associate a named data object with multiple components.</p>

<p>The biggest downside to this approach is that it&rsquo;s non-reactive. You need to <a href="#manual-state">manually run the <code>render()</code> method</a> on any component that needs to be updated when you update the state.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">sourceOfTruth</span> <span class="o">=</span> <span class="p">{</span>
	<span class="nx">greeting</span><span class="o">:</span> <span class="s1">&#39;Hello, world!&#39;</span><span class="p">,</span>
	<span class="nx">todos</span><span class="o">:</span> <span class="p">[</span>
		<span class="s1">&#39;Buy milk&#39;</span><span class="p">,</span>
		<span class="s1">&#39;Bake a birthday cake&#39;</span><span class="p">,</span>
		<span class="s1">&#39;Go apple picking&#39;</span>
	<span class="p">]</span>
<span class="p">};</span>

<span class="c1">// Parent component
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">data</span><span class="o">:</span> <span class="nx">sourceOfTruth</span><span class="p">,</span>
	<span class="nx">template</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span>
			<span class="s1">&#39;&lt;h1&gt;&#39;</span> <span class="o">+</span> <span class="nx">props</span><span class="p">.</span><span class="nx">greeting</span> <span class="o">+</span> <span class="s1">&#39;&lt;/h1&gt;&#39;</span> <span class="o">+</span>
			<span class="s1">&#39;&lt;div id=&#34;todos&#34;&gt;&lt;/div&gt;&#39;</span><span class="p">;</span>
		<span class="k">return</span> <span class="nx">html</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="c1">// Nested component
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">todos</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="s1">&#39;#todos&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">data</span><span class="o">:</span> <span class="nx">sourceOfTruth</span><span class="p">,</span>
	<span class="nx">template</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="s1">&#39;&lt;h2&gt;Todo List&lt;/h2&gt;&lt;ul&gt;&#39;</span><span class="p">;</span>
		<span class="nx">props</span><span class="p">.</span><span class="nx">todos</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">todo</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;li&gt;&#39;</span> <span class="o">+</span> <span class="nx">todo</span> <span class="o">+</span> <span class="s1">&#39;&lt;/li&gt;&#39;</span><span class="p">;</span>
		<span class="p">});</span>
		<span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;/ul&gt;&#39;</span><span class="p">;</span>
		<span class="k">return</span> <span class="nx">html</span><span class="p">;</span>
	<span class="p">},</span>
	<span class="nx">attachTo</span><span class="o">:</span> <span class="p">[</span><span class="nx">app</span><span class="p">]</span>
<span class="p">});</span>

<span class="c1">// Initial render
</span><span class="c1"></span><span class="nx">app</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>

<span class="c1">// Update the state
</span><span class="c1"></span><span class="nx">sourceOfTruth</span><span class="p">.</span><span class="nx">greeting</span> <span class="o">=</span> <span class="s1">&#39;Hi, universe&#39;</span><span class="p">;</span>

<span class="c1">// Re-render the DOM
</span><span class="c1"></span><span class="nx">app</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
</code></pre></div>
<p><strong><a href="https://codepen.io/cferdinandi/pen/yxqbwV">Try working with a single source of truth on CodePen &rarr;</a></strong></p>

<h4 id="create-a-lagoon">Create a Lagoon</h4>

<p>A <em>lagoon</em> is a Reef instance that&rsquo;s only purpose is to store shared data.</p>

<p>It doesn&rsquo;t render any UI in the DOM, but allows you to reactively update state using the <code>setData()</code> method. You can automatically trigger renders in other components by attaching them to your lagoon.</p>

<p>Create a lagoon by setting the <code>lagoon</code> option to <code>true</code> when creating your Reef instance.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">sourceOfTruth</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">greeting</span><span class="o">:</span> <span class="s1">&#39;Hello, world!&#39;</span><span class="p">,</span>
		<span class="nx">todos</span><span class="o">:</span> <span class="p">[</span>
			<span class="s1">&#39;Buy milk&#39;</span><span class="p">,</span>
			<span class="s1">&#39;Bake a birthday cake&#39;</span><span class="p">,</span>
			<span class="s1">&#39;Go apple picking&#39;</span>
		<span class="p">]</span>
	<span class="p">},</span>
	<span class="nx">lagoon</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">});</span>

<span class="c1">// Parent component
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">data</span><span class="o">:</span> <span class="nx">sourceOfTruth</span><span class="p">.</span><span class="nx">data</span><span class="p">,</span>
	<span class="nx">template</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span>
			<span class="s1">&#39;&lt;h1&gt;&#39;</span> <span class="o">+</span> <span class="nx">props</span><span class="p">.</span><span class="nx">greeting</span> <span class="o">+</span> <span class="s1">&#39;&lt;/h1&gt;&#39;</span> <span class="o">+</span>
			<span class="s1">&#39;&lt;div id=&#34;todos&#34;&gt;&lt;/div&gt;&#39;</span><span class="p">;</span>
		<span class="k">return</span> <span class="nx">html</span><span class="p">;</span>
	<span class="p">},</span>
	<span class="nx">attachTo</span><span class="o">:</span> <span class="p">[</span><span class="nx">sourceOfTruth</span><span class="p">]</span>
<span class="p">});</span>

<span class="c1">// Nested component
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">todos</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="s1">&#39;#todos&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">data</span><span class="o">:</span> <span class="nx">sourceOfTruth</span><span class="p">.</span><span class="nx">data</span><span class="p">,</span>
	<span class="nx">template</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="s1">&#39;&lt;h2&gt;Todo List&lt;/h2&gt;&lt;ul&gt;&#39;</span><span class="p">;</span>
		<span class="nx">props</span><span class="p">.</span><span class="nx">todos</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">todo</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;li&gt;&#39;</span> <span class="o">+</span> <span class="nx">todo</span> <span class="o">+</span> <span class="s1">&#39;&lt;/li&gt;&#39;</span><span class="p">;</span>
		<span class="p">});</span>
		<span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;/ul&gt;&#39;</span><span class="p">;</span>
		<span class="k">return</span> <span class="nx">html</span><span class="p">;</span>
	<span class="p">},</span>
	<span class="nx">attachTo</span><span class="o">:</span> <span class="p">[</span><span class="nx">sourceOfTruth</span><span class="p">,</span> <span class="nx">app</span><span class="p">]</span>
<span class="p">});</span>

<span class="c1">// Initial render
</span><span class="c1"></span><span class="nx">app</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>

<span class="c1">// Reactively update state
</span><span class="c1"></span><span class="nx">sourceOfTruth</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span><span class="nx">greeting</span><span class="o">:</span> <span class="s1">&#39;Hi, universe&#39;</span><span class="p">});</span>
</code></pre></div>
<p><strong><a href="https://codepen.io/cferdinandi/pen/XPBRwe">Try creating a lagoon on CodePen &rarr;</a></strong></p>

<h3 id="allowed-attributes">Allowed Attributes</h3>

<p>One of the most important things Reef does is sanitize your templates to help reduce the risk of cross-site scripting attacks.</p>

<p>As a result, by default certain attributes and properties cannot be applied to your element. This includes things like <code>onerror</code> events and custom element attributes (like <code>sandwich=&quot;tuna&quot;</code>).</p>

<p>You can add exceptions to these rules using the <code>addAttributes()</code> method. It accepts individual attribute names, or an array of attributes.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// This works
</span><span class="c1"></span><span class="nx">Reef</span><span class="p">.</span><span class="nx">addAttributes</span><span class="p">(</span><span class="s1">&#39;onerror&#39;</span><span class="p">);</span>

<span class="c1">// This does, too
</span><span class="c1"></span><span class="nx">Reef</span><span class="p">.</span><span class="nx">addAttributes</span><span class="p">([</span><span class="s1">&#39;onerror&#39;</span><span class="p">,</span> <span class="s1">&#39;sandwich&#39;</span><span class="p">]);</span>
</code></pre></div>
<p><em><strong>Heads up!</strong> This can expose you to more risk of a cross-site scripting attack. Use with caution.</em></p>

<p>You can also remove an attribute or attributes using the <code>removeAttributes()</code> method.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// This works
</span><span class="c1"></span><span class="nx">Reef</span><span class="p">.</span><span class="nx">removeAttributes</span><span class="p">(</span><span class="s1">&#39;onerror&#39;</span><span class="p">);</span>

<span class="c1">// This does, too
</span><span class="c1"></span><span class="nx">Reef</span><span class="p">.</span><span class="nx">removeAttributes</span><span class="p">([</span><span class="s1">&#39;onerror&#39;</span><span class="p">,</span> <span class="s1">&#39;sandwich&#39;</span><span class="p">]);</span>
</code></pre></div>
<p><strong><a href="https://codepen.io/cferdinandi/pen/zJLzxR">Try adding custom attributes on CodePen &rarr;</a></strong></p>

<h3 id="custom-events">Custom Events</h3>

<p>Whenever Reef updates the DOM, it emits a custom <code>render</code> event that you can listen for with <code>addEventListener()</code>.</p>

<p>The <code>render</code> event is emitted on the element that was update, and bubbles, so you can <a href="https://gomakethings.com/checking-event-target-selectors-with-event-bubbling-in-vanilla-javascript/">use event delegation</a> if you&rsquo;d prefer.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;render&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">matches</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">))</span> <span class="p">{</span>
		<span class="c1">// Do something...
</span><span class="c1"></span>	<span class="p">}</span>
<span class="p">},</span> <span class="kc">false</span><span class="p">);</span>
</code></pre></div>
<p><strong><a href="https://codepen.io/cferdinandi/pen/wEwvJx">Try the <code>render</code> event on CodePen &rarr;</a></strong></p>

<h2 id="demos">Demos</h2>

<ul>
<li><a href="https://codepen.io/cferdinandi/pen/OoLJbv">Clock</a></li>
<li><a href="https://codepen.io/cferdinandi/pen/QVLWGJ">Mirror Typing</a></li>
<li><a href="https://codepen.io/cferdinandi/pen/wExqar">Pomodoro Timer</a></li>
<li><a href="https://codepen.io/cferdinandi/pen/oPMejX">Stopwatch</a></li>
<li><a href="https://codepen.io/cferdinandi/pen/ZMzEBg">Todo List</a></li>
</ul>

<h2 id="what-s-new">What&rsquo;s new?</h2>

<ul>
<li>All polyfills have been removed and are no longer needed. This is a breaking change, as the <code>.polyfill</code> versions of scripts no longer exist.</li>
</ul>

<h2 id="browser-compatibility">Browser Compatibility</h2>

<p>Reef works in all modern browsers, and IE 10 and above.</p>

<h2 id="license">License</h2>

<p>The code is available under the <a href="https://reefjs.com/mit">MIT License</a>.</p>


</article>

			</div>
		</main>

		<footer class="container container-large">
			<hr class="margin-bottom">
			<nav class="tabindex nav-secondary" id="nav-secondary" tabindex="-1">
	<ul class="list-inline list-inline-responsive">
		<li><a href="https://reefjs.com/getting-started">Getting Started</a></li><li><a href="https://reefjs.com/state-management">State Management</a></li><li><a href="https://reefjs.com/advanced">Advanced</a></li><li><a href="https://reefjs.com/api">API Reference</a></li></li><li><a href="https://reefjs.com/demos">Demos</a></li></li><li><a href="https://reefjs.com/about">v11.x</a></li>
		<li><a href="https://github.com/cferdinandi/reef">GitHub</a></li>
	</ul>
</nav>
			<p class="text-small">Made with ❤️ in Massachusetts by <a href="https://gomakethings.com">Chris Ferdinandi</a>. Unless otherwise noted, all code is free to use under the <a href="https://reefjs.com/mit">MIT License</a>.</p>
			<p class="text-small">Logo by <a href="https://thenounproject.com/term/coral/862368/">Lluis Pareras from the Noun Project</a>.</p>
		</footer>

		<script>
			/*! vanillajs v1.5.0 | (c) 2022 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/vanilla-js-toolkit */
!function(){"use strict";!function(e){let t=document.querySelector('[data-form="convertkit"]');if(!t)return;let x=t.querySelector("#email");if(!x)return;let n=t.querySelector("[data-status]"),r=t.querySelector("[data-processing]"),c="Please provide an email address.",a="Please use a valid email address.";function o(e,t){n&&(n.textContent=e,t?(n.classList.add("success-message"),n.classList.remove("error-message"),x.classList.remove("error")):(n.classList.add("error-message"),n.classList.remove("success-message"),x.classList.add("error")))}function s(){return x.value.length<1?(o(c),!1):!!/^([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22))*\x40([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d))*(\.\w{2,})+$/.test(x.value)||(o(a),!1)}t.addEventListener("submit",(function(e){e.preventDefault(),t.hasAttribute("data-submitting")||(o(r.getAttribute("data-processing"),!0),s()&&(t.setAttribute("data-submitting",""),fetch(t.action,{method:"POST",body:new FormData(t),headers:{Accept:"application/json"}}).then((function(e){if(e.ok)return e.json();throw e})).then((function(e){o(e.msg,!0),e.redirect&&(window.location.href=e.redirect)})).catch((function(e){e.json().then((function(e){o(e.msg)}))})).finally((function(){t.removeAttribute("data-submitting")}))))})),t.setAttribute("novalidate","")}(),document.querySelector("#table-of-contents")&&function(e,t,x,n,r){if(!e||!t)return;let c=document.querySelector(e);if(!c)return;document.querySelectorAll(t),r=r||"ul";let a=Array.from(document.querySelectorAll(t)).map((function(e){return e.id?`<li><a href="#${e.id}">${e.textContent}</a></li>`:""})).join("");a.length<1||(c.innerHTML=`${x||""}\n\t\t<${r}${n?` class="${n}"`:""}>\n\t\t\t${a}\n\t\t</${r}>`)}("#table-of-contents","h2",'<h2 class="h5">On this page</h2>',null,"ul"),document.body.matches(".js-anchors")&&function(e,t,x){if(!e)return;let n=document.querySelectorAll(e),r=document.createElement("a");r.textContent=t||"#",r.className=x||"anchor-link";for(let e of n){if(!e.id)continue;let t=r.cloneNode(!0);t.href="#"+e.id,e.append(" ",t)}}("h2, h3, h4, h5, h6","#","link-no-underline")}();

			/*! vanillajs v1.5.0 | (c) 2022 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/vanilla-js-toolkit */
!function(){"use strict";navigator&&navigator.serviceWorker&&navigator.serviceWorker.register("/sw.js"),navigator.serviceWorker.controller&&window.addEventListener("load",(function(){navigator.serviceWorker.controller.postMessage("cleanUp")}))}();

		</script>
	</body>
</html>