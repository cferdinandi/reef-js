<!DOCTYPE html>
<html lang="en-us">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>Reef v7 | Reef</title>
		<meta name="description" content="A lightweight library for creating reactive, state-based components and UI. Reef is a simpler alternative to React, Vue, and other large frameworks.
 Features  Weighs just 2.5kb minified and gzipped, with zero dependencies. Simple templating with JavaScript strings or template literals. Load it with a &lt;script&gt; element or ES module import&mdash;no command line or transpiling required. Uses DOM diffing to update only the things that have changed. Has Redux/Vuex-like data stores, setters and getters baked right in.">
		

		
		<meta name="viewport" content="width=device-width, initial-scale=1">

		
		<meta name="twitter:card" content="summary">
		<meta name="twitter:site" content="@ChrisFerdinandi">
		<meta property="og:url" content="/v7">
		<meta property="og:title" content="Reef v7">
		<meta property="og:description" content="A lightweight library for creating reactive, state-based components and UI. Reef is a simpler alternative to React, Vue, and other large frameworks.
 Features  Weighs just 2.5kb minified and gzipped, with zero dependencies. Simple templating with JavaScript strings or template literals. Load it with a &lt;script&gt; element or ES module import&mdash;no command line or transpiling required. Uses DOM diffing to update only the things that have changed. Has Redux/Vuex-like data stores, setters and getters baked right in.">
		

		
		
		<link rel="shortcut icon" href="https://reefjs.com/img/favicon.ico">
		<link rel="icon" sizes="16x16 24x24 32x32 64x64" href="https://reefjs.com/img/favicon.ico">

		
		<style type="text/css">
			/*! gmt-theme v2.6.0 | (c) 2021 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/gmt-theme */
/* pt-serif-regular - latin */
@font-face {
	font-display: swap;
	font-family: "PT Serif";
	font-style: normal;
	font-weight: 400;
	src: local("PT Serif"), local("PTSerif-Regular"), url("https://gomakethings.com/fonts/pt-serif-v11-latin-regular.woff2") format("woff2"), url("https://gomakethings.com/fonts/pt-serif-v11-latin-regular.woff") format("woff");
}
/* pt-serif-italic - latin */
@font-face {
	font-display: swap;
	font-family: "PT Serif";
	font-style: italic;
	font-weight: 400;
	src: local("PT Serif Italic"), local("PTSerif-Italic"), url("https://gomakethings.com/fonts/pt-serif-v11-latin-italic.woff2") format("woff2"), url("https://gomakethings.com/fonts/pt-serif-v11-latin-italic.woff") format("woff");
}
/* pt-serif-700 - latin */
@font-face {
	font-display: swap;
	font-family: "PT Serif";
	font-style: normal;
	font-weight: 700;
	src: local("PT Serif Bold"), local("PTSerif-Bold"), url("https://gomakethings.com/fonts/pt-serif-v11-latin-700.woff2") format("woff2"), url("https://gomakethings.com/fonts/pt-serif-v11-latin-700.woff") format("woff");
}
/* pt-serif-700italic - latin */
@font-face {
	font-display: swap;
	font-family: "PT Serif";
	font-style: italic;
	font-weight: 700;
	src: local("PT Serif Bold Italic"), local("PTSerif-BoldItalic"), url("https://gomakethings.com/fonts/pt-serif-v11-latin-700italic.woff2") format("woff2"), url("https://gomakethings.com/fonts/pt-serif-v11-latin-700italic.woff") format("woff");
}
/* pt-sans-regular - latin */
@font-face {
	font-display: swap;
	font-family: "PT Sans";
	font-style: normal;
	font-weight: 400;
	src: local("PT Sans"), local("PTSerif-Regular"), url("https://gomakethings.com/fonts/pt-sans-v12-latin-regular.woff2") format("woff2"), url("https://gomakethings.com/fonts/pt-sans-v12-latin-regular.woff") format("woff");
}
/* pt-sans-italic - latin */
@font-face {
	font-display: swap;
	font-family: "PT Sans";
	font-style: italic;
	font-weight: 400;
	src: local("PT Sans Italic"), local("PTSerif-Italic"), url("https://gomakethings.com/fonts/pt-sans-v12-latin-italic.woff2") format("woff2"), url("https://gomakethings.com/fonts/pt-sans-v12-latin-italic.woff") format("woff");
}
/* pt-sans-700 - latin */
@font-face {
	font-display: swap;
	font-family: "PT Sans";
	font-style: normal;
	font-weight: 700;
	src: local("PT Sans Bold"), local("PTSerif-Bold"), url("https://gomakethings.com/fonts/pt-sans-v12-latin-700.woff2") format("woff2"), url("https://gomakethings.com/fonts/pt-sans-v12-latin-700.woff") format("woff");
}
/* pt-sans-700italic - latin */
@font-face {
	font-display: swap;
	font-family: "PT Sans";
	font-style: italic;
	font-weight: 700;
	src: local("PT Sans Bold Italic"), local("PTSerif-BoldItalic"), url("https://gomakethings.com/fonts/pt-sans-v12-latin-700italic.woff2") format("woff2"), url("https://gomakethings.com/fonts/pt-sans-v12-latin-700italic.woff") format("woff");
}
			/*! gmt-theme v2.7.0 | (c) 2021 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/gmt-theme */
﻿a,button,input,select,textarea,label,summary{touch-action:manipulation}*,*:before,*:after{box-sizing:border-box}html{overflow-y:scroll;text-size-adjust:100%}body{margin:0;min-height:100vh}img,video{max-width:100%;height:auto}iframe,object,embed{max-width:100%}audio{width:100%}[tabindex="-1"]:focus{outline:none}.container{margin-left:auto;margin-right:auto;max-width:38em;width:88%}.container-large{max-width:60em}@media(min-width: 38em){.row{display:flex;margin-left:-1.4%;margin-right:-1.4%;justify-content:space-between}.row-reverse{flex-direction:row-reverse}.grid-auto,.grid-fourth,.grid-third,.grid-two-thirds,.grid-half,.grid-three-fourths{margin-left:1.4%;margin-right:1.4%}.grid-auto{flex:1 1}.grid-fifth{width:20%}.grid-fourth{width:25%}.grid-third{width:33.33333%}.grid-two-thirds{width:66.66666%}.grid-half{width:50%}.grid-three-fourths{width:75%}.grid-four-fifths{width:80%}}@media(min-width: 38em){.list-columns{column-count:2}}html{scroll-behavior:smooth}body{background:#fff;border-top:.5em solid #e5e5e5;color:#272727;font-family:"PT Sans",sans-serif;font-size:112.5%;line-height:1.5}@media(min-width: 38em){body{line-height:1.5625em}}@media(prefers-color-scheme: dark){body{background:#1f252f;border-top-color:gray;color:#fff}}p{margin:0 0 1.5625em}a{color:#08c;text-decoration-skip-ink:auto;word-wrap:break-word}a:active,a:focus,a:hover{color:#005580}main a:not(.btn):visited{color:purple}@media(prefers-color-scheme: dark){a{color:#73cffa}a:active,a:focus,a:hover{color:#29b6f7}main a:not(.btn):visited{color:#debfde}}.link-no-underline,.nav-secondary a{text-decoration:none}.link-no-underline:active,.nav-secondary a:active,.link-no-underline:focus,.nav-secondary a:focus,.link-no-underline:hover,.nav-secondary a:hover{text-decoration:underline}.link-plain,.link-plain:visited{color:#272727;text-decoration:none}@media(prefers-color-scheme: dark){.link-plain,.link-plain:visited{color:#fff}}.link-plain:active,.link-plain:focus,.link-plain:hover{color:#08c}@media(prefers-color-scheme: dark){.link-plain:active,.link-plain:focus,.link-plain:hover{color:#73cffa}}ul,ol{margin:0 0 1.5625em 2em;padding:0}ul ul,ul ol,ol ol,ol ul{margin-bottom:0}li{margin-bottom:.5em}@media(min-width: 38em){li{margin-bottom:.25em}}.list-spaced li{margin-bottom:1.5625em}@media(min-width: 38em){.list-spaced li{margin-bottom:1em}}.list-spaced-small li{margin-bottom:1.125em}@media(min-width: 38em){.list-spaced-small li{margin-bottom:.6875em}}dl,dd{margin:0;padding:0}dd{margin-bottom:1.5625em}dt{font-weight:bold}.list-inline,.nav,.list-unstyled{list-style:none;margin-left:0}.list-inline>li::before,.nav>li::before,.list-unstyled>li::before{content:"​";position:absolute}.list-unstyled{margin-left:0}.list-inline,.nav{margin-left:-0.5em;margin-right:-0.5em;padding:0}.list-inline>li,.nav>li{display:inline-block;margin-left:.5em;margin-right:.5em}@media(max-width: 38em){.list-inline.list-inline-responsive>li,.list-inline-responsive.nav>li{display:block}}.list-inline-spaced{margin-left:-1.3125em;margin-right:-1.3125em}.list-inline-spaced>li{margin-left:1.3125em;margin-right:1.3125em}.list-inline-compact{margin-left:-0.25em;margin-right:-0.25em}.list-inline-compact li{margin-left:.25em;margin-right:.25em}h1,h2,h3,h4,h5,h6{font-family:"PT Serif",sans-serif;line-height:1.2;margin:0 0 1em;padding:1em 0 0;word-wrap:break-word}h1,.h1{font-size:1.5em;padding-top:.5em}@media(min-width: 38em){h1,.h1{font-size:1.75em}}h2,.h2{font-size:1.3125em}h3,.h3{font-size:1.1875em}h4,h5,h6,.h4,.h5,.h6{font-size:1em}h4,.h4{font-size:.8125em;text-transform:uppercase}hr{border:0;border-top:1px solid #e5e5e5;margin:2em auto}@media(prefers-color-scheme: dark){hr{border-top-color:gray}}.line-secondary{width:50%}.line-clear{border-top-color:transparent}.line-overlay{margin-top:-2.8em}.line-overlay>strong{background-color:#fff;display:inline-block;padding:0 1em}@media(min-width: 38em){.line-overlay>strong{padding:0 2em}}@media(prefers-color-scheme: dark){.line-overlay>strong{background-color:#1f252f}}mark{background:#fbf9c9;color:#272727}@media(prefers-color-scheme: dark){mark{background:transparent;color:#fff}}blockquote{border-left:.25em solid #e5e5e5;font-style:italic;margin:0 0 1.5625em;padding-left:1em;padding-right:1em}blockquote pre{font-style:normal}cite{color:gray;display:block;font-size:.9375em;padding-top:1em}@media(prefers-color-scheme: dark){cite{color:#e5e5e5}}code,kbd,pre,samp{font-family:Menlo,Monaco,"Courier New",monospace;font-size:.875em}code{color:#d14;word-wrap:break-word}@media(prefers-color-scheme: dark){code{color:#ded7d9}}pre{background-color:#f7f7f7;display:block;line-height:1.5;margin:0 0 1.5625em;overflow:auto;padding:.8125em;tab-size:2;white-space:pre-wrap;word-break:break-all}@media(min-width: 38em){pre{tab-size:4}}@media(prefers-color-scheme: dark){pre{background-color:#343d4d}}pre code{color:inherit;font-size:1em}@media screen{.chroma .err,.chroma .kc,.chroma .no,.chroma .py,.chroma .nt,.chroma .ss,.chroma .m,.chroma .mb,.chroma .mf,.chroma .mh,.chroma .mi,.chroma .il,.chroma .mo{color:#905}}@media screen and (prefers-color-scheme: dark){.chroma .err,.chroma .kc,.chroma .no,.chroma .py,.chroma .nt,.chroma .ss,.chroma .m,.chroma .mb,.chroma .mf,.chroma .mh,.chroma .mi,.chroma .il,.chroma .mo{color:#cfcfcf}}@media screen{.chroma .k,.chroma .kd,.chroma .kn,.chroma .kp,.chroma .kr,.chroma .kt,.chroma .nb,.chroma .s{color:#07a}}@media screen and (prefers-color-scheme: dark){.chroma .k,.chroma .kd,.chroma .kn,.chroma .kp,.chroma .kr,.chroma .kt,.chroma .nb,.chroma .s{color:#95dbfb}}@media screen{.chroma .n,.chroma .na,.chroma .nc,.chroma .ne,.chroma .l,.chroma .ld,.chroma .sa,.chroma .sb,.chroma .sc,.chroma .dl,.chroma .s1,.chroma .s2,.chroma .se,.chroma .sh,.chroma .si,.chroma .sx{color:#690}}@media screen and (prefers-color-scheme: dark){.chroma .n,.chroma .na,.chroma .nc,.chroma .ne,.chroma .l,.chroma .ld,.chroma .sa,.chroma .sb,.chroma .sc,.chroma .dl,.chroma .s1,.chroma .s2,.chroma .se,.chroma .sh,.chroma .si,.chroma .sx{color:#c5d99c}}@media screen{.chroma .bp,.chroma .nd,.chroma .nl,.chroma .sd,.chroma .p,.chroma .c,.chroma .ch,.chroma .cm,.chroma .c1,.chroma .cs,.chroma .cp,.chroma .cpf{color:#708090}}@media screen and (prefers-color-scheme: dark){.chroma .bp,.chroma .nd,.chroma .nl,.chroma .sd,.chroma .p,.chroma .c,.chroma .ch,.chroma .cm,.chroma .c1,.chroma .cs,.chroma .cp,.chroma .cpf{color:#e5e5e5}}@media screen{.chroma .ni,.chroma .o{color:#a67f59;background:rgba(255,255,255,.5)}}@media screen and (prefers-color-scheme: dark){.chroma .ni,.chroma .o{background:transparent;color:#e5e5e5}}@media screen{.chroma .nf,.chroma .fm,.chroma .ow{color:#dd4a68}}@media screen and (prefers-color-scheme: dark){.chroma .nf,.chroma .fm,.chroma .ow{color:#deb6be}}@media screen{.chroma .nv,.chroma .vc,.chroma .vg,.chroma .vi,.chroma .vm,.chroma .sr{color:#e90}}@media screen and (prefers-color-scheme: dark){.chroma .nv,.chroma .vc,.chroma .vg,.chroma .vi,.chroma .vm,.chroma .sr{color:#ede1ca}}@media screen{.chroma .nn{opacity:.7}}@media screen{.chroma .ge{font-style:italic}}@media screen{.chroma .gs{font-weight:bold}}.btn{background-color:#f7272f;border:.125em solid #f7272f;display:inline-block;font-size:.9375em;font-weight:normal;line-height:1.2;margin-right:.3125em;margin-bottom:.3125em;padding:.5em .6875em}.btn,.btn:focus{color:#fff}@media(prefers-color-scheme: dark){.btn,.btn:focus{background-color:#fdd4d5;border-color:#fdd4d5;color:#000}}.btn:hover,.btn:active{background-color:#cb070e;border-color:#cb070e;color:#fff}@media(prefers-color-scheme: dark){.btn:hover,.btn:active{background-color:#fdbbbd;border-color:#fdbbbd;color:#000}}a.btn{text-decoration:none}.btn-secondary{background-color:#343d4d;border-color:#343d4d}@media(prefers-color-scheme: dark){.btn-secondary{background-color:#d2d7e1;border-color:#d2d7e1;color:#000}}.btn-secondary:hover,.btn-secondary:active,.btn-secondary.active{background-color:#15191f;border-color:#15191f}@media(prefers-color-scheme: dark){.btn-secondary:hover,.btn-secondary:active,.btn-secondary.active{background-color:#c3cad6;border-color:#c3cad6;color:#000}}.btn-tertiary{background-color:#08c;border-color:#08c}@media(prefers-color-scheme: dark){.btn-tertiary{background-color:#cef;border-color:#cef;color:#000}}.btn-tertiary:hover,.btn-tertiary:active,.btn-tertiary.active{background-color:#005580;border-color:#005580}@media(prefers-color-scheme: dark){.btn-tertiary:hover,.btn-tertiary:active,.btn-tertiary.active{background-color:#b3e6ff;border-color:#b3e6ff;color:#000}}.btn:active{box-shadow:inset 0 .15625em .25em rgba(0,0,0,.15),0 1px .15625em rgba(0,0,0,.05);outline:0}.btn[disabled],[data-submitting] .btn{box-shadow:none;cursor:not-allowed;opacity:.5;pointer-events:none}.btn-large{font-size:1em;line-height:normal;padding:.6875em .9375em}.btn-block{display:block;margin-right:0;padding-right:0;padding-left:0;width:100%}.btn,button,html input[type=button],input[type=reset],input[type=submit]{cursor:pointer;text-align:center;vertical-align:middle}.btn:last-child,input.btn{margin-right:0}form,fieldset{margin-bottom:1.5625em}fieldset{border:0;padding:0}legend,label{display:block;margin:0 0 .3125em;padding:0}button,input,optgroup,select,textarea{color:#555;font:inherit;margin:0;padding:.3125em}@media(prefers-color-scheme: dark){button,input,optgroup,select,textarea{background-color:#e5e5e5;color:#272727}}input,textarea,select{border:1px solid #b8b8b8;display:block;line-height:1.5;margin-bottom:1.1875em;width:100%}@media(min-width: 38em){input,textarea,select{line-height:1.5625}}@media(prefers-color-scheme: dark){input,textarea,select{border-color:gray}}form button,form .btn{margin-bottom:1.1875em}textarea{height:8em;overflow:auto;resize:vertical}[type=image],[type=checkbox],[type=radio]{cursor:pointer;display:inline-block;height:auto;margin-bottom:.3125em;padding:0;width:auto}[type=checkbox],[type=radio]{margin-right:.25em}input:focus,textarea:focus{border-color:rgba(82,168,236,.8)}.input-inline{display:inline-block;vertical-align:middle;width:auto}.input-condensed{line-height:1;padding-top:.125em;padding-bottom:.125em;vertical-align:top}.input-search{width:85%;padding-left:.9375em;padding-right:2.5em;border-radius:1.3125em;transition:width 300ms ease-in}@media(min-width: 38em){.input-search{width:65%}}.btn-search{display:inline;color:gray;border:none;background:none;margin-left:-2.5em;margin-bottom:0}.btn-search:hover{color:#5a5a5a}.error{border-color:#e30810}@media(prefers-color-scheme: dark){.error{border-color:#fdbbbd}}.success-message,.error-message{font-style:italic}.error-message{color:#e30810;margin-bottom:1em}@media(prefers-color-scheme: dark){.error-message{color:#fdbbbd}}figure{margin:0 0 1.5625em;padding:0}figcaption{font-size:.9375em;font-style:italic;color:gray;padding-top:.5em;text-align:center}@media(prefers-color-scheme: dark){figcaption{color:#e5e5e5}}.img-border{border:1px solid #ccc}.img-circle{border-radius:50%}.img-center,.img-left{display:block;text-align:center;margin-left:auto;margin-right:auto}@media(min-width: 28em){.img-left{float:left;margin-right:1em}}@media(prefers-color-scheme: dark){svg path[fill="#272727"]{fill:#fff}svg path[fill="#808080"]{fill:#e5e5e5}svg path[fill="#f7272f"]{fill:#fdd4d5}svg path[fill="#800080"]{fill:#ff4dff}svg path[fill="#ffffff"]{fill:#1f252f}.company-logo path{fill:#fff}}iframe{aspect-ratio:16/9;height:100%;margin-bottom:1.5625em;width:100%}.callout{background-color:#f7f7f7;border:1px solid #e5e5e5;margin-bottom:1.5625em;padding:1em 1.5em}@media(prefers-color-scheme: dark){.callout{background-color:#171b22;border-color:gray}}.tarpit{display:none}table{border-collapse:collapse;border-spacing:0;margin-bottom:1.5625em;max-width:100%;width:100%}th,td{text-align:left;padding:.5em}th{border-bottom:.125em solid #e5e5e5;font-weight:bold;vertical-align:bottom}td{border-top:1px solid #e5e5e5;vertical-align:top}.table-striped tbody tr:nth-child(odd){background-color:#f7f7f7}.nav-wrap{padding-top:1em;padding-bottom:.5em;text-align:center}@media(min-width: 60em){.nav-wrap{display:flex;justify-content:space-between}}.logo{display:inline-block;font-family:"PT Serif",sans-serif;font-size:1.2em;font-weight:bold;line-height:1.2;margin-bottom:.3125em;text-decoration:none}@media(min-width: 60em){.logo{margin-bottom:0}}.logo,.logo:focus{color:#272727}@media(prefers-color-scheme: dark){.logo,.logo:focus{color:#fff}}.logo:active,.logo:hover{color:#08c}@media(prefers-color-scheme: dark){.logo:active,.logo:hover{color:#73cffa}}.nav{margin-bottom:0}.nav a{color:gray;text-decoration:none}@media(prefers-color-scheme: dark){.nav a{color:#e5e5e5}}.nav a:hover,.nav a:active,.nav a:focus,.nav .active a,.nav [aria-current=page]{border-bottom:.125em solid #fa7176;color:#272727}@media(prefers-color-scheme: dark){.nav a:hover,.nav a:active,.nav a:focus,.nav .active a,.nav [aria-current=page]{color:#fff}}.text-small{font-size:.9375em}.text-large,.text-xlarge{font-size:1.1875em;line-height:1.4}@media(min-width: 38em){.text-large,.text-xlarge{font-size:1.3125em}}.text-xlarge{font-size:1.7em}@media(min-width: 38em){.text-xlarge{font-size:2em}}.text-muted{color:gray}@media(prefers-color-scheme: dark){.text-muted{color:#e5e5e5}}.text-muted-light,.btn del{color:#b2b2b2}.text-normal{font-weight:normal;font-style:normal}.text-capitalize{text-transform:capitalize}.text-sans{font-family:"PT Sans",sans-serif}.text-serif{font-family:"PT Serif",sans-serif}.text-center{text-align:center}.text-right{text-align:right}@media(min-width: 38em){.text-right-large{text-align:right}}.no-margin-top{margin-top:0}.no-margin-bottom{margin-bottom:0}.margin-top{margin-top:1.5625em}.margin-bottom,audio{margin-bottom:1.5625em}.margin-bottom-small{margin-bottom:.5em}.margin-bottom-medium{margin-bottom:1.1875em}.margin-bottom-large{margin-bottom:2em}.margin-bottom-negative{margin-bottom:-1.75em}.margin-right{margin-right:.25em}.no-padding-top{padding-top:0}.no-padding-bottom{padding-bottom:0}.padding-top{padding-top:1.5625em}.padding-top-xsmall{padding-top:.25em}.padding-top-small{padding-top:.5em}.padding-top-medium{padding-top:1em}.padding-top-large{padding-top:2em}.padding-top-xlarge{padding-top:3em}.padding-bottom{padding-bottom:1.5625em}.padding-bottom-small{padding-bottom:.5em}.padding-bottom-large{padding-bottom:2em}.padding-bottom-xlarge{padding-bottom:3em}.screen-reader{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.screen-reader-focusable:active,.screen-reader-focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;white-space:inherit;width:auto}@media(prefers-reduced-motion: reduce){*{animation-duration:.01ms !important;animation-iteration-count:1 !important;transition-duration:.01ms !important;scroll-behavior:auto !important}}.clearfix:before,.container:before,.clearfix:after,.container:after{display:table;content:" "}.clearfix:after,.container:after{clear:both}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}@page{margin:.5cm}a,a:visited{text-decoration:underline}a[href]:after{content:" (" attr(href) ")"}a[href^="#"]:after{content:""}p,h1,h2,h3{orphans:3;widows:3}h1,h2,h3{page-break-after:avoid}pre,blockquote{border-color:#999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}header .nav,footer,main aside form{display:none}body{border-top:none}}
		</style>
	</head>

	<body class="type-versions page-single js-anchors" id="page-104a131d97ebf123565f27da57ab029f">

		<div class="container container-large">

	
	<a class="screen-reader screen-reader-focusable" href="#main">Skip to main content</a>

	
	<a class="screen-reader screen-reader-focusable" href="mailto:&#099;&#104;&#114;&#105;&#115;&#064;&#103;&#111;&#109;&#097;&#107;&#101;&#116;&#104;&#105;&#110;&#103;&#115;&#046;&#099;&#111;&#109;?subject=Go%20Make%20Things:%20Accessibility%20Feedback">Accessibility Feedback</a>

</div>

		<header class="container container-large margin-bottom-large">
	<nav class="nav-wrap">
		<a class="logo" href="https://reefjs.com">
			<svg xmlns="http://www.w3.org/2000/svg" width="0.674698795em" height="1em" style="height:.8em;width:0.539759036em;" viewBox="0 0 56 83"><title></title><path fill="currentColor" fill-rule="nonzero" d="M5.159 46.847c-.87.147-1.676.218-2.394.208a2.716 2.716 0 00-1.938.774A2.71 2.71 0 000 49.749a2.73 2.73 0 002.693 2.764c2.181.031 4.337-.326 6.589-1.09a1.508 1.508 0 011.548.35c2.174 2.126 4.632 3.68 7.012 5.185 5.553 3.517 9.938 6.291 10.286 14.545l-.006 1.038c-.02 2.131-.064 7.063.081 10.11h5.463l-.001-.104a86.437 86.437 0 01-.078-6.825l.004-.03-.004-.098c.076-5.533 4.852-8.295 9.51-10.265 4.494-1.899 8.648-5.25 9.922-7.266.01-.01.014-.02.021-.026 1.252-1.895 2.09-4.082 2.564-6.687a2.69 2.69 0 00-.443-2.041 2.707 2.707 0 00-1.756-1.133 2.713 2.713 0 00-2.043.443 2.715 2.715 0 00-1.131 1.755c-1.127 6.224-4.793 7.889-9.432 10-.787.358-1.678.763-2.561 1.206a1.523 1.523 0 01-1.662-.199 1.519 1.519 0 01-.467-1.605c1.113-3.586 2.5-6.823 3.842-9.953 3.748-8.734 7.623-17.767 6.725-35.157a2.729 2.729 0 00-2.865-2.584c-.729.036-1.4.354-1.887.897a2.716 2.716 0 00-.697 1.969c.254 4.921.121 9.304-.404 13.396a1.523 1.523 0 01-1.133 1.276 1.526 1.526 0 01-1.604-.581c-.695-.96-1.475-1.925-2.523-3.129a2.696 2.696 0 00-1.871-.93 2.705 2.705 0 00-1.98.666 2.735 2.735 0 00-.264 3.851c3.781 4.33 6.949 9.213 4.584 15.549-.014.041-.014.041-.703 1.678l-1.578 3.739a1.519 1.519 0 01-2.85-.135c-1.972-6.355-4.658-11.178-7.256-15.837-1.495-2.683-3.044-5.457-4.408-8.492a1.54 1.54 0 01-.009-1.222c1.072-2.495 2.82-4.696 4.675-7.026 1.79-2.252 3.641-4.58 5.002-7.376l.028-.067a2.724 2.724 0 00-2.443-3.92 2.737 2.737 0 00-2.456 1.548l-.004.011c-.007.014-.012.026-.02.039-1.057 2.187-2.598 4.125-4.382 6.37l-1.267 1.608a1.53 1.53 0 01-1.53.545 1.51 1.51 0 01-1.147-1.139c-.879-3.88-1.424-8.062-1.667-12.781a2.709 2.709 0 00-.9-1.887 2.7 2.7 0 00-1.968-.697A2.7 2.7 0 009.263.9a2.711 2.711 0 00-.697 1.969c.075 1.483.183 2.959.324 4.387a1.519 1.519 0 01-1.587 1.662 13.7 13.7 0 01-3.639-.667A2.737 2.737 0 00.207 9.973a2.735 2.735 0 001.723 3.455c2.095.702 4.284 1.018 6.695.966a1.512 1.512 0 011.515 1.205c1.976 9.423 5.414 15.588 8.736 21.547 2.63 4.721 5.116 9.179 6.958 15.306a1.517 1.517 0 01-2.307 1.689 98.616 98.616 0 00-2.768-1.795c-4.359-2.762-8.127-5.148-9.616-10.262a21.265 21.265 0 01-.582-1.868 2.731 2.731 0 00-3.341-1.933 2.714 2.714 0 00-1.658 1.271 2.7 2.7 0 00-.274 2.07c.352 1.316.674 2.317 1.018 3.15.175.428.147.908-.073 1.313a1.516 1.516 0 01-1.074.76z"/></svg>
			Reef
		</a>
		<div class="nav-menu" id="nav-menu">
			<ul class="nav">
				<li><a href="https://reefjs.com/getting-started">Getting Started</a></li><li><a href="https://reefjs.com/state-management">State Management</a></li><li><a href="https://reefjs.com/advanced">Advanced</a></li><li><a href="https://reefjs.com/api">API Reference</a></li></li><li><a href="https://reefjs.com/demos">Demos</a></li></li><li><a href="https://reefjs.com/about">v11.x</a></li>
			</ul>
		</div>
	</nav>
</header>

		<main id="main" tabindex="-1">

			<div class="container">

	<article>

	
	<h1>Reef v7</h1>
	

	

<p>A lightweight library for creating reactive, state-based components and UI. Reef is a simpler alternative to React, Vue, and other large frameworks.</p>

<div id="table-of-contents"></div>

<h2 id="features">Features</h2>

<ul>
<li>Weighs just 2.5kb minified and gzipped, with zero dependencies.</li>
<li>Simple templating with JavaScript strings or template literals.</li>
<li>Load it with a <code>&lt;script&gt;</code> element or ES module import&mdash;no command line or transpiling required.</li>
<li>Uses DOM diffing to update only the things that have changed.</li>
<li>Has Redux/Vuex-like data stores, setters and getters baked right in.</li>
<li>Automatically encodes markup in your data to protect you from cross-site scripting (XSS) attacks.</li>
<li>Work with native JavaScript methods and browser APIs instead of custom methods and pseudo-languages.</li>
<li>Supported all the way back to IE9.</li>
</ul>

<p>Ditch that bloated framework, and make web development fun and simple again!</p>

<h2 id="why-use-reef">Why use Reef?</h2>

<p>Reef is an anti-framework.</p>

<p>It does a lot less than the big guys like React and Vue. It doesn&rsquo;t have a Virtual DOM. It doesn&rsquo;t require you to learn a custom templating syntax. It doesn&rsquo;t provide a bunch of custom methods.</p>

<p><strong>Reef does just one thing: render UI.</strong></p>

<p>Couldn&rsquo;t you just use some template strings and <code>innerHTML</code>? Sure. But Reef only updates things that have changed instead of clobbering the DOM and removing focus from your form fields. It also automatically renders a new UI when your data updates, and helps protect you from XSS attacks.</p>

<p>If you&rsquo;re craving a simpler, back-to-basics web development experience, Reef is for you.</p>

<p>(<em>And if not, that&rsquo;s cool too! Carry on.</em>)</p>

<h2 id="getting-started">Getting Started</h2>

<h3 id="1-include-reef-on-your-site">1. Include Reef on your site</h3>

<p>Reef comes in two flavors: <em>standalone</em> and <em>polyfilled</em>.</p>

<p>The polyfilled build uses the <code>.polyfill</code> suffix, and includes the polyfills for Proxies and Custom Events that are required for IE support.</p>

<p><strong>CDN</strong></p>

<p>The fastest way to get started is with the <a href="https://cdn.jsdelivr.net/npm/reefjs/dist/">CDN from jsDelivr</a>.</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.jsdelivr.net/npm/reefjs/dist/reef.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span></code></pre></div>
<p>Reef uses semantic versioning. You can grab a major, minor, or patch version from the CDN with the <code>@1.2.3</code> syntax. You can find all available versions <a href="https://github.com/cferdinandi/reef/releases">under releases</a>.</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="c">&lt;!-- Use the latest major version --&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.jsdelivr.net/npm/reefjs@7/dist/reef.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span></code></pre></div>
<p><strong>ES Modules</strong></p>

<p>Reef also supports modern browsers and module bundlers (like Rollup, Webpack, Snowpack, and so on) using the ES modules <code>import</code> syntax. Use the <code>.es</code> version.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="k">import</span> <span class="nx">Reef</span> <span class="nx">from</span> <span class="s1">&#39;https://cdn.jsdelivr.net/npm/reefjs/dist/reef.es.min.js&#39;</span><span class="p">;</span>
</code></pre></div>
<p><details>
<summary class="margin-bottom-small"><strong>More ways to install Reef</strong></summary>
<p><strong>Direct Download</strong></p>

<p>You can <a href="https://github.com/cferdinandi/reef/archive/master.zip">download the files directly from GitHub</a>.</p>

<p>Compiled and production-ready code can be found in the <code>dist</code> directory. The <code>src</code> directory contains development code.</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;path/to/reef.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span></code></pre></div>
<p><strong>NPM</strong></p>

<p>You can also use NPM (or your favorite package manager). First, install with NPM.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">npm install reefjs --save</code></pre></div>
<p>Then import the package.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="k">import</span> <span class="nx">Reef</span> <span class="nx">from</span> <span class="s1">&#39;reefjs&#39;</span><span class="p">;</span>
</code></pre></div>
<p><strong>CommonJS</strong></p>

<p>If you use NodeJS, you can import Reef using the <code>require()</code> method with the <code>.cjs</code> version.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">Reef</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;https://cdn.jsdelivr.net/npm/reefjs/dist/reef.cjs.min.js&#39;</span><span class="p">);</span>
</code></pre></div>
<p><strong>AMD</strong></p>

<p>If you use RequireJS, SystemJS, and other AMD formats, you can import Reef with the <code>.amd</code> version.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">requirejs</span><span class="p">([</span><span class="s1">&#39;https://cdn.jsdelivr.net/npm/reefjs/dist/reef.amd.min.js&#39;</span><span class="p">],</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">Reef</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//...
</span><span class="c1"></span><span class="p">});</span>
</code></pre></div>
</details></p>

<h3 id="2-add-an-element-to-render-your-component-ui-into">2. Add an element to render your component/UI into</h3>

<p>This is typically an empty <code>div</code> with a targetable selector.</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;app&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span></code></pre></div>
<h3 id="3-create-your-component">3. Create your component</h3>

<p>Create a new <code>Reef()</code> instance, passing in two arguments: your selector, and your options.</p>

<h4 id="provide-a-selector">Provide a selector</h4>

<p>The first argument is the selector for the element you want to render the UI into. Alternatively, you can pass in the element itself.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// This works
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">);</span>

<span class="c1">// This does too
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">elem</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="nx">elem</span><span class="p">);</span>
</code></pre></div>
<h4 id="provide-a-template">Provide a Template</h4>

<p>The second argument is an object of options. It requires a template property, as either a string or a function that returns a string, to render into the DOM.</p>

<p>You can use old-school strings or ES6 template literals.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Your template can be a string
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">template</span><span class="o">:</span> <span class="s1">&#39;&lt;h1&gt;Hello, world!&lt;/h1&gt;&#39;</span>
<span class="p">});</span>

<span class="c1">// It can also be a function that returns a string
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">template</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="s1">&#39;&lt;h1&gt;Hello, world!&lt;/h1&gt;&#39;</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<h4 id="optional-add-state-data">[Optional] Add State/Data</h4>

<p>As an optional property of the options argument, you can include state for your component with the <code>data</code> property.</p>

<p>The data object is automatically encoded and passed into your template function, so that you can use it to customize your template.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Some data
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">greeting</span><span class="o">:</span> <span class="s1">&#39;Hello&#39;</span><span class="p">,</span>
		<span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;world&#39;</span>
	<span class="p">},</span>
	<span class="nx">template</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="sb">`&lt;h1&gt;</span><span class="si">${</span><span class="nx">props</span><span class="p">.</span><span class="nx">greeting</span><span class="si">}</span><span class="sb">, </span><span class="si">${</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="sb">!&lt;/h1&gt;`</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p><em>Template literals give you a simple, JSX-like templating experience. If you want, you can use old-school concatenated strings for more backwards compatibility.</em></p>

<h3 id="4-render-your-component">4. Render your component</h3>

<p>Render your component by calling the <code>render()</code> method on it.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">app</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
</code></pre></div>
<p><strong><a href="https://codepen.io/cferdinandi/pen/VwvyYge">Try the demo on CodePen &rarr;</a></strong></p>

<h2 id="state-management">State Management</h2>

<p>Reef uses <em>data reactivity</em> to update your UI.</p>

<p>Data reactivity means that the UI &ldquo;reacts&rdquo; to changes in your data. Update your data, and the UI automatically renders any required updates based on the new state.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Create a component and render it
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">greeting</span><span class="o">:</span> <span class="s1">&#39;Hello&#39;</span><span class="p">,</span>
		<span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;world&#39;</span>
	<span class="p">},</span>
	<span class="nx">template</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="sb">`&lt;h1&gt;</span><span class="si">${</span><span class="nx">props</span><span class="p">.</span><span class="nx">greeting</span><span class="si">}</span><span class="sb">, </span><span class="si">${</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="sb">!&lt;/h1&gt;`</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>

<span class="c1">// This causes component to update with &#34;Hi, universe&#34;
</span><span class="c1"></span><span class="nx">app</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">greeting</span> <span class="o">=</span> <span class="s1">&#39;Hi&#39;</span><span class="p">;</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s1">&#39;Universe&#39;</span><span class="p">;</span>
</code></pre></div>
<p>You can also update the entire data object.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// This will also update the UI
</span><span class="c1"></span><span class="nx">app</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="nx">greeting</span><span class="o">:</span> <span class="s1">&#39;Hi&#39;</span><span class="p">,</span>
	<span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Universe&#39;</span>
<span class="p">};</span>
</code></pre></div>
<p><strong><a href="https://codepen.io/cferdinandi/pen/MWarYLP">Try data reactivity on CodePen &rarr;</a></strong></p>

<p><em>For better performance, multiple property updates may be batched into a single, asynchronous render. You can detect when a render has been completed using <a href="https://reefjs.com/advanced/#event-hooks">the <code>render</code> event hook</a>.</em></p>

<h3 id="non-reactive-data">Non-Reactive Data</h3>

<p>Sometimes, you want to update data <em>without</em> updating the UI.</p>

<p>You can get an <em>immutable copy</em> of your data by passing it into the <code>Reef.clone()</code> method. This creates a non-reactive copy of your data that won&rsquo;t affect the state of your component.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Create an immutable copy of the app.data
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">Reef</span><span class="p">.</span><span class="nx">clone</span><span class="p">(</span><span class="nx">app</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>

<span class="c1">// Update the copy
</span><span class="c1">// This does NOT update the app.data or render a new UI
</span><span class="c1"></span><span class="nx">data</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s1">&#39;Universe&#39;</span><span class="p">;</span>
</code></pre></div>
<p>When you&rsquo;re ready to update your component data, you can set the component&rsquo;s <code>data</code> property to your cloned copy.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Reactively update the component data
</span><span class="c1"></span><span class="nx">app</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="nx">data</span><span class="p">;</span>
</code></pre></div>
<p><strong><a href="https://codepen.io/cferdinandi/pen/vYNpEPX">Try non-reactive data on CodePen &rarr;</a></strong></p>

<p><em><strong>Note:</strong> You can use the <code>Reef.clone()</code> method to create an immutable copy of any array or object, not just your component data.</em></p>

<h2 id="advanced-components">Advanced Components</h2>

<h3 id="html-templates">HTML Templates</h3>

<h4 id="default-and-state-based-html-attributes">Default and state-based HTML attributes</h4>

<p>You can use component data to conditionally include or change the value of HTML attributes in your template.</p>

<p>In the example below, the checkbox is <code>checked</code> when <code>agreeToTOS</code> is <code>true</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">agreeToTOS</span><span class="o">:</span> <span class="kc">true</span>
	<span class="p">},</span>
	<span class="nx">template</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="sb">`
</span><span class="sb">			&lt;label for=&#34;tos&#34;&gt;
</span><span class="sb">				&lt;input type=&#34;checkbox&#34; id=&#34;tos&#34; </span><span class="si">${</span><span class="nx">props</span><span class="p">.</span><span class="nx">agreeToTOS</span> <span class="o">?</span> <span class="s1">&#39;checked&#39;</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="si">}</span><span class="sb">&gt;
</span><span class="sb">			&lt;/label&gt;`</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p>You might also want to use a default value for an attribute, but not change it based on your component&rsquo;s state. You can do that by prefixing any attribute with <code>default</code> in your template.</p>

<p>In this example, <code>option[value=&quot;hermione&quot;]</code> has the <code>[selected]</code> attribute on it when first rendered, but will defer to whatever changes the user makes when diffing and updating the UI.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">data</span><span class="o">:</span> <span class="p">{},</span>
	<span class="nx">template</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="sb">`
</span><span class="sb">			&lt;label for=&#34;wizards&#34;&gt;Who is the best wizard?&lt;/label&gt;
</span><span class="sb">			&lt;select&gt;
</span><span class="sb">				&lt;option value=&#34;harry&#34;&gt;Harry&lt;/option&gt;
</span><span class="sb">				&lt;option value=&#34;hermione&#34; defaultSelected&gt;Hermione&lt;/option&gt;
</span><span class="sb">				&lt;option value=&#34;neville&#34;&gt;Neville&lt;/option&gt;
</span><span class="sb">			&lt;/select&gt;`</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<h4 id="preventing-cross-site-scripting-xss-attacks">Preventing Cross-Site Scripting (XSS) Attacks</h4>

<p>To reduce your risk of cross-site scripting (XSS) attacks, Reef automatically encodes any markup in your data before passing it into your template.</p>

<p>You can disable this feature by setting the <code>allowHTML</code> option to <code>true</code>.</p>

<p><em><strong>Important!</strong> Do NOT do this with third-party or user-provided data. This exposes you to the risk of cross-site scripting (XSS) attacks.</em></p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">greeting</span><span class="o">:</span> <span class="s1">&#39;&lt;strong&gt;Hello&lt;/strong&gt;&#39;</span><span class="p">,</span>
		<span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;world&#39;</span>
	<span class="p">},</span>
	<span class="nx">template</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="sb">`&lt;h1&gt;</span><span class="si">${</span><span class="nx">props</span><span class="p">.</span><span class="nx">greeting</span><span class="si">}</span><span class="sb">, </span><span class="si">${</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="sb">!&lt;/h1&gt;`</span><span class="p">;</span>
	<span class="p">},</span>
	<span class="nx">allowHTML</span><span class="o">:</span> <span class="kc">true</span> <span class="c1">// Do NOT use with third-party/user-supplied data
</span><span class="c1"></span><span class="p">});</span>
</code></pre></div>
<p><strong><a href="https://codepen.io/cferdinandi/pen/KKdZwYB">Try allowing HTML in your data on CodePen &rarr;</a></strong></p>

<h4 id="getting-the-element-the-template-is-being-rendered-into">Getting the element the template is being rendered into</h4>

<p>An optional second argument is passed into the <code>template()</code> function: the element the template is being rendered into.</p>

<p>This is particularly handy if you have data attributes on your element that affect what&rsquo;s rendered into the template.</p>

<p><em><strong>Requires Reef 7.5 or higher.</strong></em></p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;app&#34;</span> <span class="na">data-greeting</span><span class="o">=</span><span class="s">&#34;Hello&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span></code></pre></div><div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;world&#39;</span>
	<span class="p">},</span>
	<span class="nx">template</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">props</span><span class="p">,</span> <span class="nx">elem</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="sb">`&lt;h1&gt;</span><span class="si">${</span><span class="nx">elem</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;data-greeting&#39;</span><span class="p">)</span><span class="si">}</span><span class="sb">, </span><span class="si">${</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="sb">!&lt;/h1&gt;`</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p><strong><a href="https://codepen.io/cferdinandi/pen/NWrmxGP">Try getting the HTML element that the template was rendered into on CodePen &rarr;</a></strong></p>

<h3 id="nested-components">Nested Components</h3>

<p>If you&rsquo;re managing a bigger app, you may have components nested inside other components.</p>

<p>Reef provides you with a way to attach nested components to their parent components. When the parent component is updated, it will automatically update the UI of its nested components if needed.</p>

<p>Associate a nested component with its parent using the <code>attachTo</code> key in your options. You can provide a component or array of components for a value.</p>

<p>You only need to render the parent component. It&rsquo;s nested components will render automatically.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Parent component
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">greeting</span><span class="o">:</span> <span class="s1">&#39;Hello, world!&#39;</span>
	<span class="p">},</span>
	<span class="nx">template</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="sb">`
</span><span class="sb">			&lt;h1&gt;</span><span class="si">${</span><span class="nx">props</span><span class="p">.</span><span class="nx">greeting</span><span class="si">}</span><span class="sb">&lt;/h1&gt;
</span><span class="sb">			&lt;div id=&#34;todos&#34;&gt;&lt;/div&gt;`</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="c1">// Nested component
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">todos</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="s1">&#39;#todos&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">todos</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;Swim&#39;</span><span class="p">,</span> <span class="s1">&#39;Climb&#39;</span><span class="p">,</span> <span class="s1">&#39;Jump&#39;</span><span class="p">,</span> <span class="s1">&#39;Play&#39;</span><span class="p">]</span>
	<span class="p">},</span>
	<span class="nx">template</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="sb">`
</span><span class="sb">			&lt;ul&gt;
</span><span class="sb">				</span><span class="si">${</span><span class="nx">props</span><span class="p">.</span><span class="nx">todos</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">todo</span><span class="p">)</span> <span class="p">{</span>
					<span class="k">return</span> <span class="sb">`&lt;li&gt;</span><span class="si">${</span><span class="nx">todo</span><span class="si">}</span><span class="sb">&lt;/li&gt;`</span><span class="p">;</span>
				<span class="si">}</span><span class="sb">).join(&#39;&#39;)}
</span><span class="sb">			&lt;/ul&gt;`</span><span class="p">;</span>
	<span class="p">},</span>
	<span class="nx">attachTo</span><span class="o">:</span> <span class="nx">app</span>
<span class="p">});</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
</code></pre></div>
<p><strong><a href="https://codepen.io/cferdinandi/pen/gOaobJW">Try nested components on CodePen &rarr;</a></strong></p>

<h4 id="attaching-and-detaching-nested-components">Attaching and Detaching Nested Components</h4>

<p>You can attach or detach nested components at any time using the <code>attach()</code> and <code>detach()</code> methods on the parent component.</p>

<p>Provide an individual component or array of components as an argument.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Attach components
</span><span class="c1"></span><span class="nx">app</span><span class="p">.</span><span class="nx">attach</span><span class="p">(</span><span class="nx">todos</span><span class="p">);</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">attach</span><span class="p">([</span><span class="nx">todos</span><span class="p">]);</span>

<span class="c1">// Detach components
</span><span class="c1"></span><span class="nx">app</span><span class="p">.</span><span class="nx">detach</span><span class="p">(</span><span class="nx">todos</span><span class="p">);</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">detach</span><span class="p">([</span><span class="nx">todos</span><span class="p">]);</span>
</code></pre></div>
<p><strong><a href="https://codepen.io/cferdinandi/pen/zYvpxQV">Try attaching nested components on CodePen &rarr;</a></strong></p>

<h3 id="shared-state-with-data-stores">Shared State with Data Stores</h3>

<p>A <em>Data Store</em> is a special Reef object that holds reactive data you can share with multiple components.</p>

<p>Any time you update the data in your <em>Data Store</em>, any components that use the data will also be updated, and will render again if there are any UI changes.</p>

<p>Create a <em>Data Store</em> using the <code>new Reef.Store()</code> constructor.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">store</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">.</span><span class="nx">Store</span><span class="p">({</span>
	<span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">heading</span><span class="o">:</span> <span class="s1">&#39;My Todos&#39;</span><span class="p">,</span>
		<span class="nx">todos</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;Swim&#39;</span><span class="p">,</span> <span class="s1">&#39;Climb&#39;</span><span class="p">,</span> <span class="s1">&#39;Jump&#39;</span><span class="p">,</span> <span class="s1">&#39;Play&#39;</span><span class="p">]</span>
	<span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p>To use your <em>Data Store</em> with a component, pass it in with the <code>store</code> property instead of providing a <code>data</code> object.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">store</span><span class="o">:</span> <span class="nx">store</span><span class="p">,</span>
	<span class="nx">template</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="sb">`
</span><span class="sb">			&lt;h1&gt;</span><span class="si">${</span><span class="nx">props</span><span class="p">.</span><span class="nx">heading</span><span class="si">}</span><span class="sb">&lt;/h1&gt;
</span><span class="sb">			&lt;ul&gt;
</span><span class="sb">				</span><span class="si">${</span><span class="nx">props</span><span class="p">.</span><span class="nx">todos</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">todo</span><span class="p">)</span> <span class="p">{</span>
					<span class="k">return</span> <span class="sb">`&lt;li&gt;</span><span class="si">${</span><span class="nx">todo</span><span class="si">}</span><span class="sb">&lt;/li&gt;`</span><span class="p">;</span>
				<span class="si">}</span><span class="sb">).join(&#39;&#39;)}
</span><span class="sb">			&lt;/ul&gt;`</span><span class="p">;</span>

	<span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p>When using a <em>Data Store</em>, a component will have no <code>data</code> of its own. All state/data updates must happen by updating the <code>store</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Add a todo item
</span><span class="c1"></span><span class="nx">store</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">todos</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;Take a nap... zzzz&#39;</span><span class="p">);</span>
</code></pre></div>
<p><strong><a href="https://codepen.io/cferdinandi/pen/mdepyNW">Try creating a Data Store on CodePen &rarr;</a></strong></p>

<h3 id="setters-getters">Setters &amp; Getters</h3>

<p>Reef&rsquo;s reactive <code>data</code> makes updating your UI as simple updating an object property.</p>

<p>But as your app scales, you may find that keeping track of what&rsquo;s updating state and causing changes to the UI becomes harder to track and maintain.</p>

<p>Setters and getters provide you with a way to control how data flows in and out of your component.</p>

<h4 id="setters">Setters</h4>

<p>Setters are functions that update your component or store data.</p>

<p>Create setters by passing in an object of setter functions with the <code>setters</code> property in your Reef options. The first argument on a setter function is the store or component data. You can pass in as many other arguments as you&rsquo;d like.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">store</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">.</span><span class="nx">Store</span><span class="p">({</span>
	<span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">heading</span><span class="o">:</span> <span class="s1">&#39;My Todos&#39;</span><span class="p">,</span>
		<span class="nx">todos</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;Swim&#39;</span><span class="p">,</span> <span class="s1">&#39;Climb&#39;</span><span class="p">,</span> <span class="s1">&#39;Jump&#39;</span><span class="p">,</span> <span class="s1">&#39;Play&#39;</span><span class="p">]</span>
	<span class="p">},</span>
	<span class="nx">setters</span><span class="o">:</span> <span class="p">{</span>
		<span class="c1">// Add a new todo item to the component
</span><span class="c1"></span>		<span class="nx">addTodo</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">props</span><span class="p">,</span> <span class="nx">todo</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">props</span><span class="p">.</span><span class="nx">todos</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">todo</span><span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p>Use setter functions by calling the <code>do()</code> method on your component or store. Pass in the name of setter, along with any required arguments (except for <code>props</code>).</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Add a new todo item
</span><span class="c1"></span><span class="nx">store</span><span class="p">.</span><span class="k">do</span><span class="p">(</span><span class="s1">&#39;addTodo&#39;</span><span class="p">,</span> <span class="s1">&#39;Take a nap... zzzz&#39;</span><span class="p">);</span>
</code></pre></div>
<p><strong>When a component/store has setter functions, you cannot update data directly.</strong></p>

<p>Setter functions are the only way to make updates. This protects your component or store data from unwanted changes. The <code>data</code> property always returns an immutable copy of the data.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// This will NOT update the store.data or the UI
</span><span class="c1"></span><span class="nx">store</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">todos</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;Take a nap... zzzz&#39;</span><span class="p">);</span>
</code></pre></div>
<p><strong><a href="https://codepen.io/cferdinandi/pen/qBOpdBO">Try working with setter functions on CodePen &rarr;</a></strong></p>

<h4 id="getters">Getters</h4>

<p>Getters are functions that parse data from your component or store and return a value.</p>

<p>They&rsquo;re useful if you need to manipulate and retrieve the same data across multiple views of components. Rather than having to import helper functions, you can attach them directly to the component or store.</p>

<p>Create getters by passing in an object of getter functions with the <code>getters</code> property in your Reef options. They accept the store or component data as their only argument.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">store</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">.</span><span class="nx">Store</span><span class="p">({</span>
	<span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">heading</span><span class="o">:</span> <span class="s1">&#39;My Todos&#39;</span><span class="p">,</span>
		<span class="nx">todos</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;Swim&#39;</span><span class="p">,</span> <span class="s1">&#39;Climb&#39;</span><span class="p">,</span> <span class="s1">&#39;Jump&#39;</span><span class="p">,</span> <span class="s1">&#39;Play&#39;</span><span class="p">]</span>
	<span class="p">},</span>
	<span class="nx">getters</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">total</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">props</span><span class="p">.</span><span class="nx">todos</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p>Use getter functions by calling the <code>get()</code> method on your component or store. Pass in the name of getter as an argument.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Get the number of todo items
</span><span class="c1"></span><span class="nx">store</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;total&#39;</span><span class="p">);</span>
</code></pre></div>
<p><strong><a href="https://codepen.io/cferdinandi/pen/RwWxPNp">Try working with getter functions on CodePen &rarr;</a></strong></p>

<h3 id="asynchronous-data">Asynchronous Data</h3>

<p>You can use asynchronous data (such as content from an API) in your templates.</p>

<p>Set an initial default value, make your API call, and update the <code>data</code> property once you get data back. This will automatically trigger a render.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Create an app
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">articles</span><span class="o">:</span> <span class="p">[]</span>
	<span class="p">},</span>
	<span class="nx">template</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>

    <span class="c1">// If there are no articles
</span><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">props</span><span class="p">.</span><span class="nx">articles</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="sb">`&lt;p&gt;There are no articles.&lt;/p&gt;`</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// Otherwise, show the articles
</span><span class="c1"></span>	<span class="k">return</span> <span class="sb">`
</span><span class="sb">		&lt;ul&gt;
</span><span class="sb">			</span><span class="si">${</span><span class="nx">props</span><span class="p">.</span><span class="nx">articles</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">article</span><span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="sb">`&lt;li&gt;
</span><span class="sb">					&lt;strong&gt;&lt;a href=&#34;#&#34;&gt;</span><span class="si">${</span><span class="nx">article</span><span class="p">.</span><span class="nx">title</span><span class="si">}</span><span class="sb">.&lt;/a&gt;&lt;/strong&gt;
</span><span class="sb">					</span><span class="si">${</span><span class="nx">article</span><span class="p">.</span><span class="nx">body</span><span class="si">}</span><span class="sb">
</span><span class="sb">				&lt;/li&gt;`</span><span class="p">;</span>
			<span class="si">}</span><span class="sb">).join(&#39;&#39;)}
</span><span class="sb">		&lt;/ul&gt;`</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="c1">// Fetch API data
</span><span class="c1">// Then, update the app data
</span><span class="c1"></span><span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://jsonplaceholder.typicode.com/posts&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
	<span class="nx">app</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">articles</span> <span class="o">=</span> <span class="nx">data</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>
<p><strong><a href="https://codepen.io/cferdinandi/pen/yLJrMaV">Try create a template from asynchronous data on CodePen &rarr;</a></strong></p>

<p>You might also choose to hard-code a <em>loading message</em> in your markup.</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;app&#34;</span><span class="p">&gt;</span>Loading...<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span></code></pre></div>
<h3 id="event-hooks">Event Hooks</h3>

<p>Whenever Reef updates the DOM, it emits a custom <code>render</code> event that you can listen for with <code>addEventListener()</code>.</p>

<p>The <code>render</code> event is emitted on the element that was updated, and bubbles, so you can also <a href="https://gomakethings.com/checking-event-target-selectors-with-event-bubbling-in-vanilla-javascript/">use event delegation</a>. The <code>event.detail</code> property includes a copy of the <code>data</code> at the time that the component template was rendered.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;render&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>

	<span class="c1">// Only run for elements with the #app ID
</span><span class="c1"></span>	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">matches</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">))</span> <span class="k">return</span><span class="p">;</span>

	<span class="c1">// Log the data at the time of render
</span><span class="c1"></span>	<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">detail</span><span class="p">);</span>

<span class="p">},</span> <span class="kc">false</span><span class="p">);</span>
</code></pre></div>
<p><strong><a href="https://codepen.io/cferdinandi/pen/ZEbvGYP">Try the <code>render</code> event hook on CodePen &rarr;</a></strong></p>

<h4 id="emitting-your-own-custom-events">Emitting your own custom events</h4>

<p>Reef includes a helper function, <code>Reef.emit()</code>, that you can use to emit your own custom events in your apps.</p>

<p>Pass in the element to emit the event on and the event name as arguments. You can optionally pass in an object with event details as a third argument.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Emit the &#39;partyTime&#39; event on the document element
</span><span class="c1"></span><span class="nx">Reef</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="nb">document</span><span class="p">,</span> <span class="s1">&#39;partyTime&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">msg</span><span class="o">:</span> <span class="sb">`It&#39;s party time!`</span>
<span class="p">});</span>
</code></pre></div>
<h3 id="debugging">Debugging</h3>

<p>By default, Reef fails silently. You can put Reef into debugging mode to expose helpful error message in the Console tab of your browser&rsquo;s Developer Tools.</p>

<p>Turn debugging mode on or off with the <code>Reef.debug()</code> method. Pass in <code>true</code> to turn it on, and <code>false</code> to turn it off.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Turns debugging mode on
</span><span class="c1"></span><span class="nx">Reef</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>

<span class="c1">// Turns debugging mode off
</span><span class="c1"></span><span class="nx">Reef</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
</code></pre></div>
<h2 id="routing">Routing</h2>

<p>Reef includes an optional router you can use to handle URL/route management with your single-page apps (SPA&rsquo;s).</p>

<h3 id="features-1">Features</h3>

<ul>
<li>Automatically renders your Reef components whenever the route changes.</li>
<li>Works with any link element. Unlike bigger frameworks, you don&rsquo;t need custom routing components.</li>
<li>Baked-in accessibility. Reef&rsquo;s router automatically handles focus management and title updates.</li>
<li>Supports real URL paths, with an optional hashbang pattern (<code>#!</code>) fallback.</li>
<li>Weighs just 2kb minified and gzipped.</li>
</ul>

<h3 id="installation">Installation</h3>

<p>Reef Router is just as easy to install as Reef itself. Reef must also be installed as a dependency.</p>

<p><strong><em>Reef Router requires Reef v7.1.0 or higher.</em></strong></p>

<p><strong>CDN</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.jsdelivr.net/npm/reefjs/dist/reef.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.jsdelivr.net/npm/reefjs/dist/router.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span></code></pre></div>
<p><strong>ES Modules</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="k">import</span> <span class="nx">Reef</span> <span class="nx">from</span> <span class="s1">&#39;https://cdn.jsdelivr.net/npm/reefjs/dist/reef.es.min.js&#39;</span><span class="p">;</span>
<span class="k">import</span> <span class="s1">&#39;https://cdn.jsdelivr.net/npm/reefjs/dist/router.es.min.js&#39;</span><span class="p">;</span>
</code></pre></div>
<p><details>
<summary class="margin-bottom-small"><strong>More ways to install Reef</strong></summary>
<p><strong>Direct Download</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;path/to/reef.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;path/to/router.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span></code></pre></div>
<p><strong>NPM</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="k">import</span> <span class="nx">Reef</span> <span class="nx">from</span> <span class="s1">&#39;reefjs&#39;</span><span class="p">;</span>
<span class="k">import</span> <span class="s1">&#39;reefjs/router&#39;</span><span class="p">;</span>
</code></pre></div>
<p><strong>CommonJS</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">Reef</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;https://cdn.jsdelivr.net/npm/reefjs/dist/reef.cjs.min.js&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">Router</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;https://cdn.jsdelivr.net/npm/reefjs/dist/router.cjs.min.js&#39;</span><span class="p">);</span>
</code></pre></div>
<p><strong>AMD</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">requirejs</span><span class="p">([</span><span class="s1">&#39;https://cdn.jsdelivr.net/npm/reefjs/dist/reef.amd.min.js&#39;</span><span class="p">,</span> <span class="s1">&#39;https://cdn.jsdelivr.net/npm/reefjs/dist/router.amd.min.js&#39;</span><span class="p">],</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">Reef</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//...
</span><span class="c1"></span><span class="p">});</span>
</code></pre></div>
</details></p>

<h3 id="getting-started-1">Getting Started</h3>

<p><strong>Step 1: Create your links</strong></p>

<p>No custom components required. Any link element with an <code>href</code> will work.</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
	<span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;/&#34;</span><span class="p">&gt;</span>Home<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
	<span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;/about&#34;</span><span class="p">&gt;</span>About<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
	<span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;/contact&#34;</span><span class="p">&gt;</span>Contact<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span></code></pre></div>
<p><strong>Step 2: Define your routes</strong></p>

<p>Create a <code>new Reef.Router()</code> to define your routes.</p>

<p>Every route requires a <code>title</code> and <code>url</code>. You can add any additional properties that you want (for example, an <code>id</code> for the route). You can use <code>*</code> as a <code>url</code> to catch any unmatched URLs.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">.</span><span class="nx">Router</span><span class="p">({</span>
	<span class="nx">routes</span><span class="o">:</span> <span class="p">[</span>
		<span class="p">{</span>
			<span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;home&#39;</span><span class="p">,</span>
			<span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Home&#39;</span><span class="p">,</span>
			<span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/&#39;</span>
		<span class="p">},</span>
		<span class="p">{</span>
			<span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;about&#39;</span><span class="p">,</span>
			<span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;About&#39;</span><span class="p">,</span>
			<span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/about&#39;</span>
		<span class="p">},</span>
		<span class="p">{</span>
			<span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;contact&#39;</span><span class="p">,</span>
			<span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Contact Us&#39;</span><span class="p">,</span>
			<span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/contact&#39;</span>
		<span class="p">}</span>
	<span class="p">]</span>
<span class="p">});</span>
</code></pre></div>
<p><strong>Step 3: Associate your router with one or more components</strong></p>

<p>For any Reef component that should be updated when the route changes, add a <code>router</code> property and associate your router component with it.</p>

<p>Details about the current route are automatically passed into the <code>template</code> function as a second argument. By default, for unmatched routes the <code>route</code> argument will have a value of <code>null</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">router</span><span class="o">:</span> <span class="nx">router</span><span class="p">,</span>
	<span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">greeting</span><span class="o">:</span> <span class="s1">&#39;hello!&#39;</span>
	<span class="p">},</span>
	<span class="nx">template</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">props</span><span class="p">,</span> <span class="nx">route</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="sb">`
</span><span class="sb">			&lt;h1&gt;</span><span class="si">${</span><span class="nx">route</span><span class="p">.</span><span class="nx">title</span><span class="si">}</span><span class="sb">&lt;/h1&gt;
</span><span class="sb">			&lt;p&gt;</span><span class="si">${</span><span class="nx">props</span><span class="p">.</span><span class="nx">greeting</span><span class="si">}</span><span class="sb">&lt;/p&gt;`</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p><em><strong>Note:</strong> when using a router, the element that <a href="https://reefjs.com/advanced/#getting-the-element-the-template-is-being-rendered-into">the template was rendered into</a> becomes the third argument on the <code>template()</code> function.</em></p>

<h3 id="accessibility">Accessibility</h3>

<p>Any time the route changes, any associated components automatically re-render.</p>

<p>The <code>document.title</code> is also updated, and focus is shifted to the primary heading on the page (or an anchor element if scrolling to an anchored location).</p>

<h4 id="focus-rings-on-headings">Focus rings on headings</h4>

<p>Headings and anchor locations will appear with a focus ring around them, which you may find visually unappealing.</p>

<p>Elements that don&rsquo;t normally receive focus are given a <code>tabindex</code> if <code>-1</code> to make them focusable with JS. You can remove the focus ring by styling <code>[tabindex=&quot;-1&quot;]</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-css" data-lang="css"><span class="o">[</span><span class="nt">tabindex</span><span class="o">=</span><span class="s2">&#34;-1&#34;</span><span class="o">]</span> <span class="p">{</span>
	<span class="k">outline</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>
<p><em><strong>Note:</strong> you should NOT remove focus styles from elements that are normally focusable.</em></p>

<h3 id="advanced-routing">Advanced Routing</h3>

<h4 id="getting-parameters-from-routes">Getting parameters from routes</h4>

<p>You can include variable parameters in your URLs, either in the path itself or as query or search parameters.</p>

<p>Reef Router will add them to the <code>route</code> object that gets passed into your <code>template()</code>. Path parameters are included under the <code>params</code> property, and query or search parameters are included under the <code>search</code> property.</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
	<span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;/&#34;</span><span class="p">&gt;</span>Home<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
	<span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;/account/tom?photo=true&#34;</span><span class="p">&gt;</span>My Account<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span></code></pre></div><div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">.</span><span class="nx">Router</span><span class="p">({</span>
	<span class="nx">routes</span><span class="o">:</span> <span class="p">[</span>
		<span class="p">{</span>
			<span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;home&#39;</span><span class="p">,</span>
			<span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Home&#39;</span><span class="p">,</span>
			<span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/&#39;</span>
		<span class="p">},</span>
		<span class="p">{</span>
			<span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;user-account&#39;</span><span class="p">,</span>
			<span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;User Account&#39;</span><span class="p">,</span>
			<span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/account/:user&#39;</span>
		<span class="p">}</span>
	<span class="p">]</span>
<span class="p">});</span>

<span class="c1">// In this example:
</span><span class="c1">// route.params.user will be &#34;tom&#34;
</span><span class="c1">// route.search.photo will be &#34;true&#34;
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">router</span><span class="o">:</span> <span class="nx">router</span><span class="p">,</span>
	<span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">greeting</span><span class="o">:</span> <span class="s1">&#39;hello!&#39;</span>
	<span class="p">},</span>
	<span class="nx">template</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">props</span><span class="p">,</span> <span class="nx">route</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="sb">`
</span><span class="sb">			&lt;h1&gt;</span><span class="si">${</span><span class="nx">route</span><span class="p">.</span><span class="nx">title</span><span class="si">}</span><span class="sb">&lt;/h1&gt;
</span><span class="sb">			&lt;p&gt;</span><span class="si">${</span><span class="nx">props</span><span class="p">.</span><span class="nx">greeting</span><span class="si">}</span><span class="sb"> </span><span class="si">${</span><span class="nx">route</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">user</span><span class="si">}</span><span class="sb">&lt;/p&gt;
</span><span class="sb">			</span><span class="si">${</span><span class="nx">route</span><span class="p">.</span><span class="nx">search</span><span class="p">.</span><span class="nx">photo</span> <span class="o">?</span> <span class="sb">`&lt;p&gt;
</span><span class="sb">				&lt;img alt=&#34;A photo of </span><span class="si">${</span><span class="nx">route</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">user</span><span class="si">}</span><span class="sb">&#34; src=&#34;/img/</span><span class="si">${</span><span class="nx">route</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">user</span><span class="si">}</span><span class="sb">.jpg&#34;&gt;
</span><span class="sb">			&lt;/p&gt;`</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<h4 id="nested-routes">Nested routes</h4>

<p>Reef Router supports nested routes out-of-the-box.</p>

<p>The order does not matter. Reef Router will check deeper routes for matches first.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">.</span><span class="nx">Router</span><span class="p">({</span>
	<span class="nx">routes</span><span class="o">:</span> <span class="p">[</span>
		<span class="p">{</span>
			<span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;home&#39;</span><span class="p">,</span>
			<span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Home&#39;</span><span class="p">,</span>
			<span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/&#39;</span>
		<span class="p">},</span>
		<span class="p">{</span>
			<span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;account&#39;</span><span class="p">,</span>
			<span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Account&#39;</span><span class="p">,</span>
			<span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/account/&#39;</span>
		<span class="p">},</span>
		<span class="p">{</span>
			<span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;user-account&#39;</span><span class="p">,</span>
			<span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;User Account&#39;</span><span class="p">,</span>
			<span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/account/:user&#39;</span>
		<span class="p">},</span>
		<span class="p">{</span>
			<span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;user-password&#39;</span><span class="p">,</span>
			<span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Change Password&#39;</span><span class="p">,</span>
			<span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/account/:user/password&#39;</span>
		<span class="p">}</span>
	<span class="p">]</span>
<span class="p">});</span>
</code></pre></div>
<h4 id="redirects">Redirects</h4>

<p>As your app grows, routes may change. You can setup redirects from one route to another.</p>

<p>When creating the route, create the <code>url</code> property as normal, and add a <code>redirect</code> property with the route that the URL should point to.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">.</span><span class="nx">Router</span><span class="p">({</span>
	<span class="nx">routes</span><span class="o">:</span> <span class="p">[</span>
		<span class="p">{</span>
			<span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;contact&#39;</span><span class="p">,</span>
			<span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Contact&#39;</span><span class="p">,</span>
			<span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/contact/&#39;</span>
		<span class="p">},</span>
		<span class="p">{</span>
			<span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/contact-us/&#39;</span><span class="p">,</span>
			<span class="nx">redirect</span><span class="o">:</span> <span class="s1">&#39;/contact/&#39;</span>
		<span class="p">}</span>
	<span class="p">]</span>
<span class="p">});</span>
</code></pre></div>
<p>The <code>redirect</code> property can also be a function that returns a string.</p>

<p>The function automatically receive the existing <code>route</code> object, with URL and search parameters, as an argument.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">.</span><span class="nx">Router</span><span class="p">({</span>
	<span class="nx">routes</span><span class="o">:</span> <span class="p">[</span>
		<span class="p">{</span>
			<span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;user-account&#39;</span><span class="p">,</span>
			<span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;User Account&#39;</span><span class="p">,</span>
			<span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/account/:user&#39;</span>
		<span class="p">},</span>
		<span class="p">{</span>
			<span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/my-account/:user&#39;</span><span class="p">,</span>
			<span class="nx">redirect</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">route</span><span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="sb">`/account/</span><span class="si">${</span><span class="nx">route</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">user</span><span class="si">}</span><span class="sb">/`</span>
			<span class="p">}</span>
		<span class="p">},</span>
	<span class="p">]</span>
<span class="p">});</span>
</code></pre></div>
<h3 id="options-settings">Options &amp; Settings</h3>

<p>In addition to your routes, Reef Router accepts a few options you can use to customize how the router behaves.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">.</span><span class="nx">Router</span><span class="p">({</span>
	<span class="nx">root</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="c1">// The root URL for your app, if using a subdirectory
</span><span class="c1"></span>	<span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;{{title}}&#39;</span><span class="p">,</span> <span class="c1">// The pattern to use for the page title. {{title}} will be replaced with the actual title
</span><span class="c1"></span>	<span class="nx">useHash</span><span class="o">:</span> <span class="kc">false</span> <span class="c1">// If true, uses a hashbang (#!) pattern instead of true URL paths
</span><span class="c1"></span><span class="p">});</span>
</code></pre></div>
<p>The <code>title</code> property can be a string <em>or</em> a function that returns a string.</p>

<p>The <code>useHash</code> property is automatically set to <code>true</code> in browsers that don&rsquo;t support the <code>history.pushState()</code> method, and local <code>file:</code> pages.</p>

<h4 id="examples">Examples</h4>

<p>The app lives at <code>my-site.com/my-app/</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">.</span><span class="nx">Router</span><span class="p">({</span>
	<span class="nx">root</span><span class="o">:</span> <span class="s1">&#39;/my-app&#39;</span>
<span class="p">});</span>
</code></pre></div>
<p>The <code>document.title</code> will always have <code>| My App</code> after it.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">.</span><span class="nx">Router</span><span class="p">({</span>
	<span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;{{title}} | My App&#39;</span>
<span class="p">});</span>
</code></pre></div>
<p>The <code>document.title</code> will always have <code>| My App</code> after it <em>except</em> on the homepage, where it&rsquo;s just <code>My App</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">.</span><span class="nx">Router</span><span class="p">({</span>
	<span class="nx">title</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">route</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="nx">route</span> <span class="o">&amp;&amp;</span> <span class="nx">route</span><span class="p">.</span><span class="nx">id</span> <span class="o">===</span> <span class="s1">&#39;home&#39;</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="s1">&#39;My App&#39;</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">return</span> <span class="s1">&#39;{{title}} | My App&#39;</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p>Always use the hashbang pattern.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Reef</span><span class="p">.</span><span class="nx">Router</span><span class="p">({</span>
	<span class="nx">useHash</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">});</span>
</code></pre></div>
<h3 id="api">API</h3>

<p>Reef.Router exposes a few public methods you can use in your scripts.</p>

<h4 id="addroutes"><code>addRoutes()</code></h4>

<p>Add routes to an existing route. Accepts an array of routes, or an individual route object.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Add an individual route
</span><span class="c1"></span><span class="nx">router</span><span class="p">.</span><span class="nx">addRoutes</span><span class="p">({</span>
	<span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;sale&#39;</span><span class="p">,</span>
	<span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Holiday Sale!&#39;</span><span class="p">,</span>
	<span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/sale&#39;</span>
<span class="p">});</span>

<span class="c1">// Add multiple routes
</span><span class="c1"></span><span class="nx">router</span><span class="p">.</span><span class="nx">addRoutes</span><span class="p">([</span>
	<span class="p">{</span>
		<span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;about&#39;</span><span class="p">,</span>
		<span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;About&#39;</span><span class="p">,</span>
		<span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/about&#39;</span>
	<span class="p">},</span>
	<span class="p">{</span>
		<span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;contact&#39;</span><span class="p">,</span>
		<span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Contact Us&#39;</span><span class="p">,</span>
		<span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/contact&#39;</span>
	<span class="p">}</span>
<span class="p">]);</span>
</code></pre></div>
<h4 id="navigate"><code>navigate()</code></h4>

<p>Programmatically navigate to a URL. Pass in the URL as an argument.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Go to the /about page
</span><span class="c1"></span><span class="nx">router</span><span class="p">.</span><span class="nx">navigate</span><span class="p">(</span><span class="s1">&#39;/about&#39;</span><span class="p">);</span>
</code></pre></div>
<h4 id="addcomponent"><code>addComponent()</code></h4>

<p>Associate a component with the router for automatic rendering.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Add the app component
</span><span class="c1"></span><span class="nx">router</span><span class="p">.</span><span class="nx">addComponent</span><span class="p">(</span><span class="nx">app</span><span class="p">);</span>
</code></pre></div>
<h4 id="current"><code>current</code></h4>

<p>The <code>current</code> property will return the details object for the current route.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Get the current route details
</span><span class="c1"></span><span class="nx">router</span><span class="p">.</span><span class="nx">current</span><span class="p">;</span>
</code></pre></div>
<h3 id="routing-events">Routing Events</h3>

<p>Reef Router emits two custom events on the <code>window</code> whenever a route change happens.</p>

<ul>
<li><strong><code>beforeRouteUpdated</code></strong> fires before the route is changed. It includes the <code>current</code> and <code>next</code> routes as properties under <code>event.detail</code></li>
<li><strong><code>routeUpdated</code></strong> fires after the route has been changed. It includes the <code>current</code> and <code>previous</code> routes as properties under <code>event.detail</code>.</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Run a callback before the route changes
</span><span class="c1">// Useful for tearing down scripts that won&#39;t be needed on the next view
</span><span class="c1"></span><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;beforeRouteUpdated&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>

	<span class="c1">// The route that&#39;s about to the change
</span><span class="c1"></span>	<span class="kd">var</span> <span class="nx">current</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">detail</span><span class="p">.</span><span class="nx">current</span><span class="p">;</span>

	<span class="c1">// The new route
</span><span class="c1"></span>	<span class="kd">var</span> <span class="nx">next</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">detail</span><span class="p">.</span><span class="nx">next</span><span class="p">;</span>

<span class="p">});</span>

<span class="c1">// Run a callback after the route changes
</span><span class="c1">// Useful for loading or re-initializing scripts
</span><span class="c1"></span><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;routeUpdated&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>

	<span class="c1">// The new route
</span><span class="c1"></span>	<span class="kd">var</span> <span class="nx">current</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">detail</span><span class="p">.</span><span class="nx">current</span><span class="p">;</span>

	<span class="c1">// The previous route
</span><span class="c1"></span>	<span class="kd">var</span> <span class="nx">previous</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">detail</span><span class="p">.</span><span class="nx">previous</span><span class="p">;</span>

<span class="p">});</span>
</code></pre></div>
<h3 id="kudos">Kudos</h3>

<p>Reef Router&rsquo;s URL path matching and parameter extraction is adapted from <a href="https://github.com/krasimir/navigo">Navigo by Krasimir Tsonev</a>.</p>

<p>Click handling is adapted from <a href="https://github.com/visionmedia/page.js">pages.js by Vision Media</a>.</p>

<h2 id="demos">Demos</h2>

<p>Want to see Reef in action? Here are some demos and examples you can play with.</p>

<ul>
<li><a href="https://codepen.io/cferdinandi/pen/gOaoppx">Clock</a></li>
<li><a href="https://codepen.io/cferdinandi/pen/WNQdvQK">Mirror Typing</a></li>
<li><a href="https://codepen.io/cferdinandi/pen/ExVojPx">Pomodoro Timer</a></li>
<li><a href="https://codepen.io/cferdinandi/pen/GRpyJov">Stopwatch</a></li>
<li><a href="https://codepen.io/cferdinandi/pen/MWarwyR">Todo List</a></li>
<li><a href="https://codepen.io/cferdinandi/pen/ExVojvV">Whack-a-Mole Game</a></li>
<li><a href="https://codepen.io/cferdinandi/pen/yLJrMaV">Articles from an API</a></li>
</ul>

<h2 id="browser-compatibility">Browser Compatibility</h2>

<p>Reef works in all modern browsers, and IE 9 and above.</p>

<p class="margin-bottom-small"><strong>For IE support, you need to either...</strong></p>

<ul>
<li>Use the <code>.polyfill</code> build of Reef, or</li>
<li>Include your own polyfills for Proxies and the CustomEvent() object, or</li>
<li>Transpile your code into ES5 with BabelJS.</li>
</ul>

<h2 id="license">License</h2>

<p>The code is available under the <a href="https://reefjs.com/mit">MIT License</a>.</p>


</article>

			</div>
		</main>

		<footer class="container container-large">
			<hr class="margin-bottom">
			<nav class="tabindex nav-secondary" id="nav-secondary" tabindex="-1">
	<ul class="list-inline list-inline-responsive">
		<li><a href="https://reefjs.com/getting-started">Getting Started</a></li><li><a href="https://reefjs.com/state-management">State Management</a></li><li><a href="https://reefjs.com/advanced">Advanced</a></li><li><a href="https://reefjs.com/api">API Reference</a></li></li><li><a href="https://reefjs.com/demos">Demos</a></li></li><li><a href="https://reefjs.com/about">v11.x</a></li>
		<li><a href="https://github.com/cferdinandi/reef">GitHub</a></li>
	</ul>
</nav>
			<p class="text-small">Made with ❤️ in Massachusetts by <a href="https://gomakethings.com">Chris Ferdinandi</a>. Unless otherwise noted, all code is free to use under the <a href="https://reefjs.com/mit">MIT License</a>.</p>
			<p class="text-small">Logo by <a href="https://thenounproject.com/term/coral/862368/">Lluis Pareras from the Noun Project</a>.</p>
		</footer>

		<script>
			/*! vanillajs v1.5.0 | (c) 2022 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/vanilla-js-toolkit */
!function(){"use strict";!function(e){let t=document.querySelector('[data-form="convertkit"]');if(!t)return;let x=t.querySelector("#email");if(!x)return;let n=t.querySelector("[data-status]"),r=t.querySelector("[data-processing]"),c="Please provide an email address.",a="Please use a valid email address.";function o(e,t){n&&(n.textContent=e,t?(n.classList.add("success-message"),n.classList.remove("error-message"),x.classList.remove("error")):(n.classList.add("error-message"),n.classList.remove("success-message"),x.classList.add("error")))}function s(){return x.value.length<1?(o(c),!1):!!/^([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22))*\x40([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d))*(\.\w{2,})+$/.test(x.value)||(o(a),!1)}t.addEventListener("submit",(function(e){e.preventDefault(),t.hasAttribute("data-submitting")||(o(r.getAttribute("data-processing"),!0),s()&&(t.setAttribute("data-submitting",""),fetch(t.action,{method:"POST",body:new FormData(t),headers:{Accept:"application/json"}}).then((function(e){if(e.ok)return e.json();throw e})).then((function(e){o(e.msg,!0),e.redirect&&(window.location.href=e.redirect)})).catch((function(e){e.json().then((function(e){o(e.msg)}))})).finally((function(){t.removeAttribute("data-submitting")}))))})),t.setAttribute("novalidate","")}(),document.querySelector("#table-of-contents")&&function(e,t,x,n,r){if(!e||!t)return;let c=document.querySelector(e);if(!c)return;document.querySelectorAll(t),r=r||"ul";let a=Array.from(document.querySelectorAll(t)).map((function(e){return e.id?`<li><a href="#${e.id}">${e.textContent}</a></li>`:""})).join("");a.length<1||(c.innerHTML=`${x||""}\n\t\t<${r}${n?` class="${n}"`:""}>\n\t\t\t${a}\n\t\t</${r}>`)}("#table-of-contents","h2",'<h2 class="h5">On this page</h2>',null,"ul"),document.body.matches(".js-anchors")&&function(e,t,x){if(!e)return;let n=document.querySelectorAll(e),r=document.createElement("a");r.textContent=t||"#",r.className=x||"anchor-link";for(let e of n){if(!e.id)continue;let t=r.cloneNode(!0);t.href="#"+e.id,e.append(" ",t)}}("h2, h3, h4, h5, h6","#","link-no-underline")}();

			/*! vanillajs v1.5.0 | (c) 2022 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/vanilla-js-toolkit */
!function(){"use strict";navigator&&navigator.serviceWorker&&navigator.serviceWorker.register("/sw.js"),navigator.serviceWorker.controller&&window.addEventListener("load",(function(){navigator.serviceWorker.controller.postMessage("cleanUp")}))}();

		</script>
	</body>
</html>